<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="../../template/templategeral.xhtml">
	<f:metadata>
		<f:viewAction action="#{LaudoController.getEditLaudo()}" />
	</f:metadata>
	<ui:define name="body">
		<!-- INICIO DO FORMULARIO -->
		<div class="col-md-8">
			<h:form>
				<h:commandButton value="Voltar"
					style="position:absolute; left:76%; top:100%;"
					styleClass="btn btn-info"
					action="/pages/sishosp/gerenciarLaudo.faces?faces-redirect=true"></h:commandButton>
			</h:form>

			<h:form id="formLaudo">
				<p:growl id="message" />
				<p:panel header="#{LaudoController.cabecalho}"
					style="position: relative; height:auto; width:717px; background-color: #F5F5F5; margin-left:50%;border: 3px solid gray;">
					<h:panelGrid columns="3">

						<h:outputLabel value="Paciente:" />
						<p:outputPanel id="outPacie">
							<p:autoComplete value="#{LaudoController.laudo.paciente}"
								size="60" converter="conPaciente"
								completeMethod="#{PacienteController.listaPacienteAutoComplete}"
								effect="fade" var="theme" forceSelection="true"
								minQueryLength="1" itemValue="#{theme}"
								itemLabel="#{theme.nome}">
								<p:ajax event="itemSelect"
									update=":formLaudo:outProg, :formLaudo:outPacie3, :formLaudo:outPacie2, :formLaudo:btBusPr" />
							</p:autoComplete>
						</p:outputPanel>
						<p:commandButton id="btBusPa" value="Buscar" icon="buscar"
							onclick="PF('dlgConsuPac').show();" />

						<h:outputLabel value="Programa:" />
						<p:outputPanel id="outProg">
							<p:autoComplete value="#{LaudoController.laudo.programa}"
								size="60" converter="conPrograma"
								disabled="#{LaudoController.laudo.paciente==null}"
								completeMethod="#{ProgramaController.listaProgramaAutoComplete}"
								effect="fade" var="theme" forceSelection="true"
								minQueryLength="1" itemValue="#{theme}"
								itemLabel="#{theme.descPrograma}">
								<p:ajax event="itemSelect"
									listener="#{GrupoController.selectPrograma}"
									update=":formLaudo:outGrupo, :formLaudo:btBusGr,
									:formConsuGrop:dtGrupo" />
							</p:autoComplete>

						</p:outputPanel>
						<p:commandButton id="btBusPr" value="Buscar" icon="buscar"
							disabled="#{LaudoController.laudo.paciente==null}"
							onclick="PF('dlgConsuProg').show();" />

						<h:outputLabel value="Grupo:" />
						<p:outputPanel id="outGrupo">
							<p:autoComplete value="#{LaudoController.laudo.grupo}" size="60"
								converter="conGrupo"
								disabled="#{LaudoController.laudo.programa==null}"
								completeMethod="#{GrupoController.listaGrupoAutoComplete}"
								effect="fade" var="theme" forceSelection="true"
								minQueryLength="1" itemValue="#{theme}"
								itemLabel="#{theme.descGrupo}">
								<p:ajax event="itemSelect"
									update=":formLaudo:outEquipe,:formLaudo:btBusEquipe, 
									:formLaudo:outEquipe" />
								<!-- listener="#{GrupoController.selectEqupProf}" -->
							</p:autoComplete>
						</p:outputPanel>
						<p:commandButton id="btBusGr" value="Buscar" icon="buscar"
							disabled="#{LaudoController.laudo.programa==null}"
							onclick="PF('dlgConsuGrop').show();" />

						<p:column id="outEquipe"
							rendered="#{LaudoController.laudo.grupo.equipeThulio == true}">
							<h:outputLabel value="Equipe:" />
							<p:outputPanel>
								<p:autoComplete value="#{LaudoController.laudo.equipe}"
									size="60" converter="conEquipe"
									disabled="#{LaudoController.laudo.grupo==null}"
									completeMethod="#{EquipeController.listaEquipeAutoComplete}"
									effect="fade" var="theme" forceSelection="true"
									minQueryLength="1" itemValue="#{theme}"
									itemLabel="#{theme.descEquipe}">
									<p:ajax event="itemSelect"
										update=":formLaudo:outProfissional,:formLaudo:btBusPro" />
								</p:autoComplete>
							</p:outputPanel>
							<p:commandButton id="btBusEquipe" value="Buscar" icon="buscar"
								disabled="#{LaudoController.laudo.grupo==null}"
								onclick="PF('dlgConsuEquipe').show();" />
						</p:column>
						<h:outputLabel value="Profissional:" />
						<p:outputPanel id="outProfissional">
							<p:autoComplete value="#{LaudoController.laudo.profissional}"
								size="60" converter="conProfissional"
								disabled="#{LaudoController.laudo.equipe==null}"
								completeMethod="#{ProfissionalController.listaProfissionalAutoComplete}"
								effect="fade" var="theme" forceSelection="true"
								minQueryLength="1" itemValue="#{theme}"
								itemLabel="#{theme.descricaoProf}">
								<p:ajax event="itemSelect"
									update=":formLaudo:outProce, :formLaudo:btBusProce" />
							</p:autoComplete>
						</p:outputPanel>
						<p:commandButton id="btBusPro" value="Buscar" icon="buscar"
							disabled="#{LaudoController.laudo.equipe==null}"
							onclick="PF('dlgConsuProf').show();" />

						<h:outputLabel value="Procedimento:" />
						<p:outputPanel id="outProce">
							<p:autoComplete value="#{LaudoController.laudo.procedimento}"
								size="60" converter="conProcedimento"
								disabled="#{LaudoController.laudo.profissional==null}"
								completeMethod="#{ProcedimentoController.listaProcedimentoAutoComplete}"
								effect="fade" var="theme" forceSelection="true"
								minQueryLength="1" itemValue="#{theme}"
								itemLabel="#{theme.nomeProc}">
								<p:ajax event="itemSelect" update=":formLaudo:outDadosForne" />
							</p:autoComplete>

						</p:outputPanel>
						<p:commandButton id="btBusProce" value="Buscar" icon="buscar"
							disabled="#{LaudoController.laudo.profissional==null}"
							onclick="PF('dlgConsuProce').show();" />
					</h:panelGrid>

					<h:panelGrid columns="4" styleClass="semBorda">

						<p:outputPanel id="outPacie3" style="margin-left:16px;">
							<h:outputLabel value="CNS" />
							<br />
							<p:inputText id="codCns"
								value="#{LaudoController.laudo.paciente.cns}" readonly="true" />
						</p:outputPanel>
						<p:outputPanel id="outPacie2" style="margin-left:16px;">
							<h:outputLabel value="CPF" />
							<br />
							<p:inputText id="codCpf"
								value="#{LaudoController.laudo.paciente.cpf}" readonly="true" />
						</p:outputPanel>
					</h:panelGrid>
					<h:panelGrid columns="6" styleClass="semBorda">
						<p:outputPanel style="margin-left:16px;">
							<h:outputLabel value="Data para Solicitação" />
							<br />
							<p:calendar id="data" locale="pt" showOn="button"
								value="#{LaudoController.laudo.dtasolicitacao}" navigator="true"
								mask="true" pattern="dd/MM/yyyy" />
						</p:outputPanel>

						<p:panel style="background-color: #F5F5F5; border:none;">
							<h:outputLabel value="Data para Vencimento:" />
							<br />
							<p:outputLabel id="dtFim"
								value="#{LaudoController.laudo.dtavencimento}">
								<f:convertDateTime locale="pt" timeZone="-3GTM"
									pattern="MM/yyyy" />
							</p:outputLabel>

						</p:panel>

						<p:outputPanel style="margin-left:16px;">
							<p:outputLabel value="Recurso:" />
							<p:selectOneRadio id="recursos" style="border: double;"
								layout="pageDirection" value="#{LaudoController.laudo.recurso}">

								<f:selectItem itemLabel="Faec" itemValue="F" />
								<f:selectItem itemLabel="Mac" itemValue="M" />
								<!--  <p:ajax update="pgSetor2"></p:ajax>-->

							</p:selectOneRadio>
						</p:outputPanel>

					</h:panelGrid>

					<h:panelGrid columns="4" styleClass="semBorda">

						<!--<p:outputPanel style="margin-left:16px;">
						<h:outputLabel for="apac" value="APAC" />
						<br />
					   	<p:inputText id="codApac"
							value="#{LaudoController.laudo.apac}" readonly="false"/>
					    </p:outputPanel>
					    
					   <p:outputPanel style="margin-left:16px;">
						<h:outputLabel for="bpi" value="BPI" />
						<br />
					   	<p:inputText id="codBpi"
							value="BPI" readonly="false"/>
					    </p:outputPanel>  -->

						<p:outputPanel style="margin-left:16px;">
							<h:outputLabel value="NUMERO AUTORIZAÇÃO" />
							<br />
							<p:inputText value="#{LaudoController.laudo.apac}"
								readonly="false" />
						</p:outputPanel>


						<p:outputPanel style="margin-left: 20px;">
							<h:outputLabel for="unidade" value="Unidade:" />
							<br />
							<p:selectOneMenu value="#{LaudoController.laudo.unidade}"
								disable="true" id="unidade">

								<f:selectItem itemLabel="AL" itemValue="AL" />
								<f:selectItem itemLabel="UL" itemValue="UL" />


							</p:selectOneMenu>
						</p:outputPanel>

					</h:panelGrid>




					<p:outputPanel id="outSituacao" style="margin-top:15px;">
						<h:panelGrid columns="6" styleClass="semBorda">
							<p:outputLabel value="Situação:" style="margin-left:16px;" />

							<p:selectOneRadio id="situacao"
								style="border: double; margin-left:16px" required="false"
								layout="pageDirection"
								disabled="#{MBUsuarios.usuarioLogado.autorizado == false}"
								requiredMessage="Situação"
								value="#{LaudoController.laudo.situacao}">

								<f:selectItem itemLabel="Pendente" itemValue="P" />
								<f:selectItem itemLabel="Autorizado" itemValue="A" />
								<p:ajax update="outSituacao"></p:ajax>

							</p:selectOneRadio>

							<p:panel style="background-color:#F5F5F5; border:none;"
								rendered="#{LaudoController.laudo.situacao == 'A'}">
								<h:outputLabel value="Data para Autorização:" />
								<br />
								<p:calendar id="dataAt" showOn="button" locale="pt"
									required="true" requiredMessage="Data Autorização e necessaria"
									value="#{LaudoController.laudo.dtautorizacao}" navigator="true"
									mask="true" pattern="dd/MM/yyyy">

									<!-- <p:ajax event="dateSelect" update="dtFim"
										process="@this,dataAt"
										listener="#{LaudoController.calcularDiasCalendario}" /> -->
								</p:calendar>
							</p:panel>
						</h:panelGrid>
					</p:outputPanel>



					<h:panelGrid columns="3" styleClass="semBorda"
						style="margin-top:30px;">
						<h:outputLabel value="CID:" />
						<p:outputPanel id="outCid">
							<p:inputText id="cid" value="#{LaudoController.laudo.cid10_1}"
								readonly="false" style="width: 300px; margin-left:16px;" />


						</p:outputPanel>
						<p:commandButton id="btBusCid" value="Buscar" icon="buscar"
							onclick="PF('dlgConsuCid').show();" />

						<h:outputLabel value="CID 2:" />
						<p:outputPanel id="outCid2">
							<p:inputText id="cid2" value="#{LaudoController.laudo.cid10_2}"
								readonly="false" style="width: 300px; margin-left:16px;" />

						</p:outputPanel>
						<p:commandButton id="btBusCid2" value="Buscar" icon="buscar"
							onclick="PF('dlgConsuCid2').show();" />

						<h:outputLabel value="CID 3:" />
						<p:outputPanel id="outCid3">
							<p:inputText id="cid3" value="#{LaudoController.laudo.cid10_3}"
								readonly="false" style="width: 300px; margin-left:16px;" />

						</p:outputPanel>
						<p:commandButton id="btBusCid3" value="Buscar" icon="buscar"
							onclick="PF('dlgConsuCid3').show();" />
					</h:panelGrid>

					<p:outputPanel id="outDadosForne">
						<p:panel header="DADOS FORNECEDOR"
							rendered="#{LaudoController.laudo.procedimento.utilizaEquipamento == true}"
							style="width:680px; margin-top:30px; background-color: #F5F5F5;">
							<h:panelGrid columns="3" styleClass="semBorda">

								<h:outputLabel value="Fornecedor:" />
								<p:outputPanel id="outFornecedor">
									<p:autoComplete value="#{LaudoController.laudo.fornecedor}"
										size="60" converter="conFornecedor"
										completeMethod="#{FornecedorController.listaFornecedorAutoComplete}"
										effect="fade" var="theme" forceSelection="true"
										minQueryLength="1" itemValue="#{theme}"
										itemLabel="#{theme.descFornecedor}">
									</p:autoComplete>
								</p:outputPanel>
								<p:commandButton id="btBusFornecedor" value="Buscar"
									icon="buscar" onclick="PF('dlgConsuForne').show();" />

							</h:panelGrid>
							<h:panelGrid columns="6" styleClass="semBorda"
								style="margin-top:10px;">
								<p:outputPanel style="margin-left:16px; ">
									<h:outputLabel value="Valor" />
									<br />
									<p:inputText id="codValor"
										required="#{LaudoController.laudo.situacao == 'A'}"
										requiredMessage="Valor e necessario informar"
										value="#{LaudoController.laudo.fornecedor.valor}"
										readonly="false" />
								</p:outputPanel>

								<p:outputPanel style="margin-left:16px;">
									<h:outputLabel value="No.Nota" />
									<br />
									<p:inputText id="codNota" value="#{LaudoController.laudo.nota}"
										required="#{LaudoController.laudo.situacao == 'A'}"
										requiredMessage="Nota e necessario informar" readonly="false" />
								</p:outputPanel>

								<p:outputPanel style="margin-left:16px;">
									<h:outputLabel value="Qtd." />
									<br />
									<p:spinner id="qtd" size="1"
										required="#{LaudoController.laudo.situacao == 'A'}"
										requiredMessage="Qtd e necessario informar"
										value="#{LaudoController.laudo.qtd}" />
								</p:outputPanel>
							</h:panelGrid>
							<h:panelGrid columns="3" styleClass="semBorda">
								<h:outputLabel value="Equipamento:"
									style="margin-left:16px; margin-top:20px;" />
								<p:outputPanel id="outEquipamento">

									<p:inputText
										required="#{LaudoController.laudo.situacao == 'A'}"
										requiredMessage="Equipamento e necessario informar"
										value="#{LaudoController.laudo.equipamento.id_equipamento}"
										readonly="true" style="width: 50px; margin-left:16px;" />

									<p:inputText
										required="#{LaudoController.laudo.situacao == 'A'}"
										requiredMessage="Equipamento e necessario informar"
										value="#{LaudoController.laudo.equipamento.descEquipamento}"
										readonly="true" style="width: 200px;" />
								</p:outputPanel>
								<p:commandButton id="btBusEquipamento" value="Buscar"
									icon="buscar" onclick="PF('dlgConsuEquipamento').show();" />
							</h:panelGrid>

						</p:panel>


					</p:outputPanel>
					<h:panelGrid columns="2" styleClass="semBorda"
						style="margin-top:30px;">
						<h:outputLabel for="obs" value="Obs.:" />
						<p:inputTextarea id="obs" value="#{LaudoController.laudo.obs}"
							style="width: 328px" autoResize="false" />
					</h:panelGrid>




					<p:separator></p:separator>
					<center>
						<h:panelGrid columns="3" styleClass="semBorda">

							<p:commandButton value="Gravar" icon="confirmar"
								update=":formLaudo:message,:formLaudo" style="margin-left:15px;"
								action="#{LaudoController.gravarLaudo()}"
								rendered="#{LaudoController.tipo2 == 1}" />

							<p:commandButton action="#{LaudoController.alterarLaudo()}"
								icon="alterar-dados" style="margin-left:15px;"
								update=":formLaudo:message,:formLaudo" value="Alterar"
								rendered="#{LaudoController.tipo2 == 2}" />

							<p:commandButton value="Limpar" icon="limpar"
								style="margin-left:15px;"
								action="#{LaudoController.limparDados()}" update=":formLaudo" />

						</h:panelGrid>
					</center>
				</p:panel>
			</h:form>


			<p:dialog header="Consulta Pacientes" widgetVar="dlgConsuPac"
				modal="true" width="750px">
				<h:form id="formConsuPac">
					<p:growl id="msgC" />
					<center>
						<p:panelGrid columns="2" styleClass="semBorda">
							<p:outputPanel id="outOp">
								<h:outputLabel for="op" value="Opção" />
								<br />
								<p:selectOneMenu id="op"
									value="#{PacienteController.tipoBuscar}">
									<f:selectItem itemLabel="Escolha Opção" itemValue="VAZIO" />
									<f:selectItem itemLabel="CPF" itemValue="CPF" />
									<f:selectItem itemLabel="Nome" itemValue="NOME" />
									<f:selectItem itemLabel="Prontuário Velho"
										itemValue="PRONTVELHO" />
									<f:selectItem itemLabel="Prontuário Novo" itemValue="PRONTNOVO" />
								</p:selectOneMenu>
							</p:outputPanel>

							<p:outputPanel id="outDesP">
								<h:outputLabel for="descPac" value="Descrição" />
								<br />
								<p:inputText id="descPac"
									value="#{PacienteController.descricaoParaBuscar}"
									style="width: 300px" />
							</p:outputPanel>
						</p:panelGrid>

						<p:separator style="margin-top: 10px;" />

						<p:panelGrid columns="3" styleClass="semBorda">
							<p:commandButton value="OK" icon="ui-icon-check"
								action="#{PacienteController.buscarPaciente()}"
								update=":formConsuPac:msgC, :formConsuPac:dtPaci" />
							<p:commandButton value="Nova Consulta" icon="ui-icon-search"
								actionListener="#{PacienteController.limparDados()}"
								update=":formConsuPac:outOp, :formConsuPac:outDesP, :formConsuPac:dtPaci" />
							<p:commandButton value="Sair" icon="ui-icon-close" />
						</p:panelGrid>
					</center>
					<p:dataTable resizableColumns="true" id="dtPaci"
						value="#{PacienteController.listaPacientesParaAgenda}" var="pacie"
						emptyMessage="Faça uma busca de paciente!">
						<p:column headerText="PRONTUÁRIO">
							<p:outputLabel value="#{pacie.id_paciente}" />
						</p:column>

						<p:column headerText="PRONT ANT.">
							<p:outputLabel value="#{pacie.protant}" />
						</p:column>

						<p:column headerText="NOME">
							<p:outputLabel value="#{pacie.nome}" />
						</p:column>

						<p:column headerText="CPF">
							<p:outputLabel value="#{pacie.cpf}" />
						</p:column>
						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formLaudo:outPacie, :formLaudo:outPacie3, :formLaudo:outPacie2, 
								:formLaudo:outProg, :formLaudo:btBusPr"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuPac').hide();">
								<f:setPropertyActionListener value="#{pacie}"
									target="#{LaudoController.laudo.paciente}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta Programa" widgetVar="dlgConsuProg"
				modal="true" width="500px">
				<h:form id="formConsuProg">
					<p:dataTable value="#{ProgramaController.listaProgramas}"
						var="prog" resizableColumns="true"
						emptyMessage="Não existe nenhum programa cadastrado!">
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{prog.idPrograma}" />
						</p:column>
						<p:column headerText="PROGRAMA">
							<p:outputLabel value="#{prog.descPrograma}" />
						</p:column>
						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formLaudo:outProg,:formLaudo:outGrupo, :formLaudo:btBusGr"
								icon="confirmar" title="Selecionar"
								action="#{GrupoController.atualizaLista(LaudoController.laudo.programa)}"
								onclick="PF('dlgConsuProg').hide();">
								<f:setPropertyActionListener value="#{prog}"
									target="#{LaudoController.laudo.programa}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta Grupo" widgetVar="dlgConsuGrop"
				modal="true" width="550px">
				<h:form id="formConsuGrop">
					<p:dataTable value="#{GrupoController.listaGruposProgramas}"
						id="dtGrupo" resizableColumns="true" var="grupo"
						emptyMessage="Não existe nenhum grupo cadastrado!">
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{grupo.idGrupo}" />
						</p:column>
						<p:column headerText="GRUPO">
							<p:outputLabel value="#{grupo.descGrupo}" />
						</p:column>
						<p:column headerText="QTD. FREQ>">
							<p:outputLabel value="#{grupo.qtdFrequencia}" />
						</p:column>

						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formLaudo:outGrupo,:formLaudo:outEquipe, :formLaudo:btBusEquipe"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuGrop').hide();">
								<f:setPropertyActionListener value="#{grupo}"
									target="#{LaudoController.laudo.grupo}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta Equipe" widgetVar="dlgConsuEquipe"
				modal="true" width="500px">
				<h:form id="formConsuEquipe">
					<p:dataTable value="#{EquipeController.listaEquipe}" var="equipe"
						id="dtEquipe" resizableColumns="true"
						emptyMessage="Não existe nenhum equipe cadastrada!">
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{equipe.codEquipe}" />
						</p:column>
						<p:column headerText="EQUIPE">
							<p:outputLabel value="#{equipe.descEquipe}" />
						</p:column>
						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formLaudo:outEquipe, :formConsuEquipe:dtEquipe, :formLaudo:outProfissional,:formLaudo:btBusPro"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuEquipe').hide();">
								<f:setPropertyActionListener value="#{equipe}"
									target="#{LaudoController.laudo.equipe}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta Profissional" widgetVar="dlgConsuProf"
				modal="true" width="550px">
				<h:form id="formConsuProf">
					<p:dataTable value="#{ProfissionalController.listaProfissional}"
						id="dtProfissional" resizableColumns="true" var="profissional"
						emptyMessage="Não existe nenhum profissional cadastrado!">
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{profissional.idProfissional}" />
						</p:column>
						<p:column headerText="Profissional">
							<p:outputLabel value="#{profissional.descricaoProf}" />
						</p:column>
						<p:column headerText="Especialidade">
							<p:outputLabel
								value="#{profissional.especialidade.descEspecialidade}" />
						</p:column>
						<p:column headerText="Max Atendimento">
							<p:outputLabel value="#{profissional.cns}" />
						</p:column>

						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formLaudo:outProfissional,:formLaudo:outProce, :formLaudo:btBusProce"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuProf').hide();">
								<f:setPropertyActionListener value="#{profissional}"
									target="#{LaudoController.laudo.profissional}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta Procedimento" widgetVar="dlgConsuProce"
				modal="true" width="550px">
				<h:form id="formConsuProce">
					<p:dataTable value="#{ProcedimentoController.listaProcedimentos}"
						id="dtProce" resizableColumns="true" var="procedimento"
						emptyMessage="Não existe nenhum procedimento cadastrado!">
						<p:column headerText="ID">
							<p:outputLabel value="#{procedimento.idProc}" />
						</p:column>
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{procedimento.codProc}" />
						</p:column>
						<p:column headerText="PROCEDIMENTO" style="width:55%;">
							<p:outputLabel value="#{procedimento.nomeProc}" />
						</p:column>

						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formConsuProce:dtProce, :formLaudo:outProce, :formLaudo:outDadosForne"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuProce').hide();">
								<f:setPropertyActionListener value="#{procedimento}"
									target="#{LaudoController.laudo.procedimento}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta Fornecedor" widgetVar="dlgConsuForne"
				modal="true" width="550px">
				<h:form id="formConsuForne">
					<p:dataTable value="#{FornecedorController.listaFornecedor}"
						id="dtForne" resizableColumns="true" var="fornecedor"
						emptyMessage="Não existe nenhum fornecedor cadastrado!">
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{fornecedor.idFornecedor}" />
						</p:column>
						<p:column headerText="FORNECEDOR">
							<p:outputLabel value="#{fornecedor.descFornecedor}" />
						</p:column>

						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formLaudo:outFornecedor, :formConsuForne:dtForne, :formLaudo:outDadosForne"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuForne').hide();">
								<f:setPropertyActionListener value="#{fornecedor}"
									target="#{LaudoController.laudo.fornecedor}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta CID" widgetVar="dlgConsuCid" modal="true"
				width="550px">
				<h:form id="formConsuCid">
					<p:dataTable value="#{CidController.listaCids}" id="dtCid"
						resizableColumns="true" var="cid"
						emptyMessage="Não existe nenhum cid cadastrado!">
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{cid.idCid}" />
						</p:column>
						<p:column headerText="CID">
							<p:outputLabel value="#{cid.descCid}" />
						</p:column>

						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton update=":formLaudo:outCid, :formConsuCid:dtCid"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuCid').hide();">
								<f:setPropertyActionListener value="#{cid.descCid}"
									target="#{LaudoController.laudo.cid10_1}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta CID 2" widgetVar="dlgConsuCid2"
				modal="true" width="550px">
				<h:form id="formConsuCid2">
					<p:dataTable value="#{CidController.listaCids}" id="dtCid2"
						resizableColumns="true" var="cid"
						emptyMessage="Não existe nenhum cid cadastrado!">
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{cid.idCid}" />
						</p:column>
						<p:column headerText="CID">
							<p:outputLabel value="#{cid.descCid}" />
						</p:column>

						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formLaudo:outCid2, :formConsuCid2:dtCid2"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuCid2').hide();">
								<f:setPropertyActionListener value="#{cid.descCid}"
									target="#{LaudoController.laudo.cid10_2}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta CID 3" widgetVar="dlgConsuCid3"
				modal="true" width="550px">
				<h:form id="formConsuCid3">
					<p:dataTable value="#{CidController.listaCids}" id="dtCid3"
						resizableColumns="true" var="cid"
						emptyMessage="Não existe nenhum cid cadastrado!">
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{cid.idCid}" />
						</p:column>
						<p:column headerText="CID">
							<p:outputLabel value="#{cid.descCid}" />
						</p:column>

						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formLaudo:outCid3, :formConsuCid3:dtCid3"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuCid3').hide();">
								<f:setPropertyActionListener value="#{cid.descCid}"
									target="#{LaudoController.laudo.cid10_3}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>

			<p:dialog header="Consulta Equipamento"
				widgetVar="dlgConsuEquipamento" modal="true" width="550px">
				<h:form id="formConsuEquipamento">
					<p:dataTable value="#{EquipamentoController.listaEquipamentos}"
						id="dtEquipamento" resizableColumns="true" var="equipamento"
						emptyMessage="Não existe nenhum equipamento cadastrado!">
						<p:column headerText="CÓD.">
							<p:outputLabel value="#{equipamento.id_equipamento}" />
						</p:column>
						<p:column headerText="DESCRIÇÃO">
							<p:outputLabel value="#{equipamento.descEquipamento}" />
						</p:column>

						<p:column headerText="Confirmar"
							style="width:20%;text-align: center">
							<p:commandButton
								update=":formLaudo:outEquipamento, :formConsuEquipamento:dtEquipamento"
								icon="confirmar" title="Selecionar"
								onclick="PF('dlgConsuEquipamento').hide();">
								<f:setPropertyActionListener value="#{equipamento}"
									target="#{LaudoController.laudo.equipamento}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>


		</div>

	</ui:define>
</ui:composition>
</html>