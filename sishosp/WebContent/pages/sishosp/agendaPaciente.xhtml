<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:composition template="../../template/templategeral.xhtml">

        <ui:define name="body">
             
    <div class="col-md-8">
        <h1>AGENDA MÉDICA</h1>
        <br />  
        <!-- INICIO DO FORMULARIO -->
        <h:form class="form-horizontal" id="formAGEN">
       
        <p:growl id="message" />
        <p:panel id="pnlAgenPaciente" header="Dados Agenda" style="height:auto; width:1200px; background-color: #F5F5F5;" >  
         
           <!-- LISTA 1 -->
					            <h:panelGrid id="p1" columns="3" styleClass="semBorda" >
                                            <p:inputText value=""  size="4" style="margin-left:5px; margin-top:20px;" >
                                             
                                            </p:inputText>    
                                            
                                          <!--   autoUpdate="true"
                                          <p:autoComplete label="Digite a escolaridade" emptyMessage="Digite a Escolaridade" 
                                            id="escolacomplete1" style="font-size:12px; margin-left:5px"  
                                            value="#{EscolaridadeController.escolaridadeSuggestion}" size="45" 
                                            completeMethod="#{EscolaridadeController.completeText}" effect="fade" 
                                            var="theme" forceSelection="true" minQueryLength="3" 
                                            itemValue="#{theme}" itemLabel="#{theme.descescolaridade}" 
                                            converter="conEscolaridade"  >
                                            <p:ajax event="itemSelect" listener="#{EscolaridadeController.onItemSelect}"/>
                                            </p:autoComplete>  -->
                                          
                                            
                                         <p:outputPanel autoUpdate="true" > 
                                            <p:inputText id="nome" size="45" style="margin-left:5px;margin-top:20px;" required="false" disabled="true" readonly="true"
                                                requiredMessage="O campo nome é obrigatório."
                                                value="#{PacienteController.escolaridade.descescolaridade}" />
                                        </p:outputPanel>                 
                                 			
                                 			    <p:commandButton value="Paciente" style="margin-left:5px; margin-top:20px;" onclick="PF('dlgbuscapaciente').show();" icon="buscaProcess"/> 
                                <!--  actionListener="#{MBPaciente.limparbuscaescola()}" />-->
                                </h:panelGrid>
                 
          
          
              <!-- LISTA 2 -->
					            <h:panelGrid id="p2" columns="3" styleClass="semBorda">
                                            <p:inputText value=""  size="4" style="margin-left:5px;margin-top:20px;" >
                                             
                                            </p:inputText>    
                                            
                                          <!--   autoUpdate="true"
                                          <p:autoComplete label="Digite a escolaridade" emptyMessage="Digite a Escolaridade" 
                                            id="escolacomplete1" style="font-size:12px; margin-left:5px"  
                                            value="#{EscolaridadeController.escolaridadeSuggestion}" size="45" 
                                            completeMethod="#{EscolaridadeController.completeText}" effect="fade" 
                                            var="theme" forceSelection="true" minQueryLength="3" 
                                            itemValue="#{theme}" itemLabel="#{theme.descescolaridade}" 
                                            converter="conEscolaridade"  >
                                            <p:ajax event="itemSelect" listener="#{EscolaridadeController.onItemSelect}"/>
                                            </p:autoComplete>  -->
                                          
                                            
                                         <p:outputPanel autoUpdate="true" > 
                                            <p:inputText id="programa" size="45" style="margin-left:5px;margin-top:20px;" required="false" disabled="true" readonly="true"
                                                requiredMessage="O campo nome é obrigatório."
                                                value="#{PacienteController.escolaridade.descescolaridade}" />
                                        </p:outputPanel>                 
                                 			
                                 			    <p:commandButton value="Programa" style="margin-left:5px;margin-top:20px;" onclick="PF('dlgbuscaprograma').show();" icon="buscaProcess"/> 
                                <!--  actionListener="#{MBPaciente.limparbuscaescola()}" />-->
                                </h:panelGrid>
                                
                                
                                  <!-- LISTA 3 -->
					            <h:panelGrid id="p3" columns="3" styleClass="semBorda">
                                            <p:inputText value=""  size="4" style="margin-left:5px;margin-top:20px;" >
                                             
                                            </p:inputText>    
                                            
                                          <!--   autoUpdate="true"
                                          <p:autoComplete label="Digite a escolaridade" emptyMessage="Digite a Escolaridade" 
                                            id="escolacomplete1" style="font-size:12px; margin-left:5px"  
                                            value="#{EscolaridadeController.escolaridadeSuggestion}" size="45" 
                                            completeMethod="#{EscolaridadeController.completeText}" effect="fade" 
                                            var="theme" forceSelection="true" minQueryLength="3" 
                                            itemValue="#{theme}" itemLabel="#{theme.descescolaridade}" 
                                            converter="conEscolaridade"  >
                                            <p:ajax event="itemSelect" listener="#{EscolaridadeController.onItemSelect}"/>
                                            </p:autoComplete>  -->
                                          
                                            
                                         <p:outputPanel autoUpdate="true" > 
                                            <p:inputText id="grupo" size="45" style="margin-left:5px;margin-top:20px;" required="false" disabled="true" readonly="true"
                                                requiredMessage="O campo nome é obrigatório."
                                                value="#{PacienteController.escolaridade.descescolaridade}" />
                                        </p:outputPanel>                 
                                 			
                                 			    <p:commandButton value="Grupo" style="margin-left:5px;margin-top:20px;" onclick="PF('dlgbuscagrupo').show();" icon="buscaProcess"/> 
                                <!--  actionListener="#{MBPaciente.limparbuscaescola()}" />-->
                                </h:panelGrid>
                                
                                  <!-- LISTA 4 -->
					            <h:panelGrid id="p4" columns="3" styleClass="semBorda">
                                            <p:inputText value=""  size="4" style="margin-left:5px;margin-top:20px;" >
                                             
                                            </p:inputText>    
                                            
                                          <!--   autoUpdate="true"
                                          <p:autoComplete label="Digite a escolaridade" emptyMessage="Digite a Escolaridade" 
                                            id="escolacomplete1" style="font-size:12px; margin-left:5px"  
                                            value="#{EscolaridadeController.escolaridadeSuggestion}" size="45" 
                                            completeMethod="#{EscolaridadeController.completeText}" effect="fade" 
                                            var="theme" forceSelection="true" minQueryLength="3" 
                                            itemValue="#{theme}" itemLabel="#{theme.descescolaridade}" 
                                            converter="conEscolaridade"  >
                                            <p:ajax event="itemSelect" listener="#{EscolaridadeController.onItemSelect}"/>
                                            </p:autoComplete>  -->
                                          
                                            
                                         <p:outputPanel autoUpdate="true" > 
                                            <p:inputText id="Equipe" size="45" style="margin-left:5px;margin-top:20px;" required="false" disabled="true" readonly="true"
                                                requiredMessage="O campo nome é obrigatório."
                                                value="#{PacienteController.escolaridade.descescolaridade}" />
                                        </p:outputPanel>                 
                                 			
                                 			    <p:commandButton value="Equipe" style="margin-left:5px;margin-top:20px;" onclick="PF('dlgbuscaequipe').show();" icon="buscaProcess"/> 
                                <!--  actionListener="#{MBPaciente.limparbuscaescola()}" />-->
                                </h:panelGrid>
                                
                                  <!-- LISTA 5 -->
					            <h:panelGrid id="p5" columns="3" styleClass="semBorda">
                                            <p:inputText value=""  size="4" style="margin-left:5px;margin-top:20px;" >
                                             
                                            </p:inputText>    
                                            
                                          <!--   autoUpdate="true"
                                          <p:autoComplete label="Digite a escolaridade" emptyMessage="Digite a Escolaridade" 
                                            id="escolacomplete1" style="font-size:12px; margin-left:5px"  
                                            value="#{EscolaridadeController.escolaridadeSuggestion}" size="45" 
                                            completeMethod="#{EscolaridadeController.completeText}" effect="fade" 
                                            var="theme" forceSelection="true" minQueryLength="3" 
                                            itemValue="#{theme}" itemLabel="#{theme.descescolaridade}" 
                                            converter="conEscolaridade"  >
                                            <p:ajax event="itemSelect" listener="#{EscolaridadeController.onItemSelect}"/>
                                            </p:autoComplete>  -->
                                          
                                            
                                         <p:outputPanel autoUpdate="true" > 
                                            <p:inputText id="profissional" size="45" style="margin-left:5px;margin-top:20px;" required="false" disabled="true" readonly="true"
                                                requiredMessage="O campo nome é obrigatório."
                                                value="#{PacienteController.escolaridade.descescolaridade}" />
                                        </p:outputPanel>                 
                                 			
                                 			    <p:commandButton value="Profissional" style="margin-left:5px;margin-top:20px;" onclick="PF('dlgbuscaprofissional').show();" icon="buscaProcess"/> 
                                <!--  actionListener="#{MBPaciente.limparbuscaescola()}" />-->
                                </h:panelGrid>
                 
                  <h:panelGrid id="p6" columns="12" styleClass="semBorda">
                 <h:outputLabel for="atendimento" style="margin-left:5px;margin-top:20px;" value="Data p/ Atendimento:" />
             
            	<p:calendar pattern="dd/MM/yyyy" style="margin-left:5px;margin-top:20px;" showOn="button" id="atendimento" size="12"
											maxlength="10"
											value="#{PacienteController.paciente.dtanascimento}"
											locale="pt" required="false"
											requiredMessage="Informe a data" />
											
											
											<h:outputLabel value="Turno" style="margin-left:5px;margin-top:20px;"/>
                
                     <p:selectOneMenu value="#{PacienteController.paciente.estadoCivil}" style="margin-left:5px;margin-top:20px;" disable="true" id="turno">
                     
                    <f:selectItem itemLabel="Selecione" itemValue="" />
                       <f:selectItem itemLabel="Manhã" itemValue="Manha" />
                                            <f:selectItem itemLabel="Noite" itemValue="Noite" />
                                            <f:ajax event="blur" render="m_estadocivil" />
                        </p:selectOneMenu>
                        
                        
                        <p:inputText value=""  size="4" style="margin-left:5px; margin-top:20px;" >
                                             
                                            </p:inputText>    
                                            
                                          <!--   autoUpdate="true"
                                          <p:autoComplete label="Digite a escolaridade" emptyMessage="Digite a Escolaridade" 
                                            id="escolacomplete1" style="font-size:12px; margin-left:5px"  
                                            value="#{EscolaridadeController.escolaridadeSuggestion}" size="45" 
                                            completeMethod="#{EscolaridadeController.completeText}" effect="fade" 
                                            var="theme" forceSelection="true" minQueryLength="3" 
                                            itemValue="#{theme}" itemLabel="#{theme.descescolaridade}" 
                                            converter="conEscolaridade"  >
                                            <p:ajax event="itemSelect" listener="#{EscolaridadeController.onItemSelect}"/>
                                            </p:autoComplete>  -->
                                          
                                            
                                         <p:outputPanel autoUpdate="true" > 
                                            <p:inputText id="prot" size="45" style="margin-left:5px;margin-top:20px;" required="false" disabled="true" readonly="true"
                                                requiredMessage="O campo nome é obrigatório."
                                                value="#{PacienteController.escolaridade.descescolaridade}" />
                                        </p:outputPanel>                 
                                 			
                                 			    <p:commandButton value="Prot.Ant" style="margin-left:5px; margin-top:20px;" onclick="PF('dlgbuscaprot').show();" icon="buscaProcess"/> 
                                <!--  actionListener="#{MBPaciente.limparbuscaescola()}" />-->
                                
                                <h:outputLabel value="Qtd." style="margin-left:5px;margin-top:20px;"/>
                                <p:inputText value=""  size="4" style="margin-left:5px; margin-top:20px;" >
                                             
                                            </p:inputText>   
                                            
                                            <h:outputLabel value="Max." style="margin-left:5px;margin-top:20px;"/>
                                            <p:inputText value=""  size="4" style="margin-left:5px; margin-top:20px;" >
                                             
                                            </p:inputText>   
                                
											</h:panelGrid>
											 </p:panel>
											 
										<p:panel header="Tabela Paciente" style="height:auto; width:1200px; background-color: #F5F5F5;">
											 <p:dataTable emptyMessage="Sem Dados" id="tabela"
                             style="margin-top:20px;" value="#{PacienteController.listaPacientes}"
                             var="tab" paginator="true" paginatorPosition="bottom" rows="12">

                   

                    <p:column headerText="Cód." style="font-weight:bold;width:5%;">
                        <h:outputText value="#{tab.id_paciente}" />
                    </p:column>

                    <p:column headerText="Data" style="font-weight:bold;">
                        <h:outputText value="#{tab.nome}" />
                    </p:column>
                      <p:column headerText="Horário" style="font-weight:bold;">
                        <h:outputText value="#{tab.cpf}" />
                    </p:column>
                    <p:column headerText="Pront." style="font-weight:bold;">
                        <h:outputText value="#{tab.rg}" />
                    </p:column>
                        <p:column headerText="Paciente" style="font-weight:bold;">
                        <h:outputText value="#{tab.conjugue}" />
                    </p:column>
                     <p:column headerText="Tipo" style="font-weight:bold;">
                        <h:outputText value="#{tab.cns}" />
                    </p:column>
                    
                </p:dataTable>
								</p:panel>			
         
          
                 
                         <div class="form-group">
                <div class="col-sm-offset-3 col-sm-12">
                    <h:commandButton action="PF('dlgbuscapaciente')"   
                    update=":formAGEN:message,:formAGEN:pnlAgenPaciente" value="Cadastrar"
                        styleClass="btn btn-sm btn-success" />
                </div>
            </div>
        </h:form>
        <!-- FIM DO FORMULARIO -->
    </div>
    
    
    <p:dialog style="font-size: 12px;" widgetVar="dlgbuscapaciente" 
                        height="460" width="800" modal="true" resizable="false">

                <f:facet name="header">
                    <h:panelGroup>
                        <h:outputText id="n27" value="Consulta Pacientes"></h:outputText>
                    </h:panelGroup>
                </f:facet>
                    <h:form id="buscapaciente">
                    <h:panelGrid id="p1" columns="9" styleClass="semBorda">
                        <h:outputText id="n28" styleClass="rotulosBold" value="Nome" style="margin-left:10px" />
                        <p:inputText size="10" id="buscanomepaciente" 
                                     value="#{PacienteController.escola.descescola}" style="margin-left:10px" />
                        <h:outputText id="n29" styleClass="rotulosBold" value="CPF" style="margin-left:10px" />
                        <p:inputText styleClass="legend" size="6" id="buscacpfpaciente"
                                     value="#{PacienteController.escola.codEscola}" style="margin-left:10px" />
                                       <h:outputText id="n120" styleClass="rotulosBold" value="Prontuario Novo" style="margin-left:10px" />
                        <p:inputText styleClass="legend" size="6" id="buscaprotnovopaciente"
                                     value="#{PacienteController.escola.codEscola}" style="margin-left:10px" />
                                       <h:outputText id="n100" styleClass="rotulosBold" value="Prontuario Velho" style="margin-left:10px" />
                        <p:inputText styleClass="legend" size="6" id="buscaprotvelhopaciente"
                                     value="#{PacienteController.escola.codEscola}" style="margin-left:10px" />
                        <p:commandButton id="n30" icon="btPesquisar" update="buscapaciente:tablepaciente"
                                         value="Pesquisa" action="#{MBUsuarioCadastro.buscarpessoa()}" style="margin-left:10px"/>

                    </h:panelGrid>

                    <center>
                        <p:outputPanel id="outinter">
                            <p:dataTable value="#{PacienteController.listaEscolas}"
                                         var="busca" paginator="true" paginatorPosition="bottom"
                                         id="tablepaciente" emptyMessage="Nenhum Interessado" sortMode="single"
                                         rows="11" styleClass="fonteForm" widgetVar="800" >

                                <p:column id="n31" style="width:80px">
                                    <f:facet name="header">
                                        <h:outputText id="n32" value="PRONTUARIO" styleClass="fonteForm" />
                                    </f:facet>
                                    <h:outputText id="n33" styleClass="fonteForm"
                                                  value="#{busca.codEscola}" />
                                </p:column>
                                
                                  <p:column id="n200" style="width:80px">
                                    <f:facet name="header">
                                        <h:outputText id="n201" value="PRONT.ANT" styleClass="fonteForm" />
                                    </f:facet>
                                    <h:outputText id="n203" styleClass="fonteForm"
                                                  value="#{busca.codEscola}" />
                                </p:column>

                                <p:column id="n34" style="width:380px">
                                    <f:facet name="header">
                                        <h:outputText id="n35" value="NOME" styleClass="fonteForm" />
                                    </f:facet>
                                    <h:outputText id="n36" styleClass="fonteForm"
                                                  value="#{busca.descescola}" />
                                </p:column>
                                <p:column id="n37" style=" width:100px;text-align:center;">
                                    <f:facet name="header">
                                        <h:outputText id="n38" value="CPF" styleClass="fonteForm" />
                                    </f:facet>
                                    <h:outputText id="n39" styleClass="fonteForm"
                                                  value="#{busca.codtipoescola}" />
                                </p:column>

                                <p:column id="n40" style="width:50px">
                                    <f:facet name="header">
                                        <h:outputText id="n41" value="Ação" styleClass="fonteForm" />
                                    </f:facet>

                                    <p:commandButton 
                                                     oncomplete="dlgbuscaescola.hide()" icon="podeGravar"
                                                     id="confirmar">

                                        <f:setPropertyActionListener value="#{busca.codEscola}"
                                                                     target="#{PacienteController.escola.codEscola}" />
                                        <f:setPropertyActionListener value="#{busca.descescola}"
                                                                     target="#{PacienteController.escola.descescola}" />
                                        <f:setPropertyActionListener value="#{busca.codtipoescola}"
                                                                     target="#{PacienteController.escola.codtipoescola}" />
                                        <p:tooltip for="confirmar" value="Selecionar Escola"></p:tooltip>
                                    </p:commandButton>
                                </p:column>
                                
                            </p:dataTable>
                        </p:outputPanel>
                    </center>
                </h:form>
            </p:dialog>
    
        </ui:define>
    </ui:composition>
</html>