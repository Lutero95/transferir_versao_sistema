<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="../../template/template.xhtml">

	<f:metadata>
		<f:viewAction action="#{PacienteController.getEditPaciente()}" />
	</f:metadata>
	<ui:define name="body">
		<!-- INICIO DO FORMULARIO -->



		<h:form class="form-horizontal" id="formCADU">
		<p:autoComplete class="col-sm-1 control-label" 
										label="Digite a escolaridade"
										emptyMessage="Digite a Escolaridade" id="escolacomplete1"
										style="background-color:white !important"
										 
										value="#{PacienteController.escolaridadeSuggestion}" size="45"
										completeMethod="#{PacienteController.completeText2}"
										effect="fade" var="theme" forceSelection="true"
										minQueryLength="1" itemValue="#{theme}"
										itemLabel="#{theme.descescolaridade}"
										converter="conEscolaridade">
										<p:ajax event="itemSelect"
											listener="#{PacienteController.onItemSelect2}" />
									</p:autoComplete>
<p:commandButton
									style="position:absolute; top:100px; left:550px;" process="@this"
									onclick="PF('dlgbuscaescolaridade').show();"
									icon="buscaProcess" />
								<!--  actionListener="#{MBPaciente.limparbuscaescola()}" />-->		
			<p:inputText style="background-color:white;" class="col-sm-2 control-label"></p:inputText> 
			<p:growl id="message" />
				<b:panel title="#{PacienteController.cabecalho}" collapsible="false">

					<p:tabView activeIndex="#{PacienteController.abaAtiva}"
						style="height:auto; width:auto">
						<p:tab title="DADOS PESSOAIS">

							<div class="form-group">

								<h:outputLabel for="inputname" value="Nome"
									class="col-sm-1 control-label" />

								<div class="col-sm-5">
									<h:inputText value="#{PacienteController.paciente.nome}"
										class="form-control" id="inputname"
										pt:placeholder="Digite aqui seu nome entre 2 e 30 caracteres"
										required="false"
										validatorMessage="Nome deve conter entre 2 e 30 caracteres."
										requiredMessage="é necessário que você informe seu nome.">
										<f:validateLength minimum="2" maximum="40" />

									</h:inputText>

								</div>
								<h:outputLabel for="nascimento" value="Nascimento"
									class="col-sm-1 control-label" />
								<div class="col-sm-2">
									

								</div>
								<h:outputLabel for="estadocivil" value="Est. Civil"
									class="col-sm-1 control-label" />
								<div class="col-sm-2">

									<b:selectOneMenu
										value="#{PacienteController.paciente.estadoCivil}"
										disable="true" id="estadocivil">

										<f:selectItem itemLabel="Selecione" itemValue="" />
										<f:selectItem itemLabel="Solteiro" itemValue="S" />
										<f:selectItem itemLabel="Casado" itemValue="C" />
										<f:selectItem itemLabel="Viúvo" itemValue="V" />
										<f:selectItem itemLabel="Divorciado" itemValue="D" />
										<f:selectItem itemLabel="Outros" itemValue="O" />
										<f:ajax event="blur" />
									</b:selectOneMenu>

								</div>
							</div>




							<div class="form-group">
								<h:outputLabel for="sexo" value="Sexo"
									class="col-sm-1 control-label" />
								<div class="col-sm-2">
									<b:selectOneMenu required="false" disable="true"
										requiredMessage="Informe o sexo" id="sexo"
										value="#{PacienteController.paciente.sexo}">
										<f:selectItem itemLabel="Selecione" itemValue="" />
										<f:selectItem itemLabel="Masculino" itemValue="M" />
										<f:selectItem itemLabel="Feminino" itemValue="F" />
										<f:ajax event="blur" />
									</b:selectOneMenu>

								</div>

								<h:outputLabel for="sangue" value="Sangue"
									class="col-sm-1 control-label" />
								<div class="col-sm-2">
									<b:selectOneMenu required="false" disable="true"
										requiredMessage="Informe o sangue" id="sangue"
										value="#{PacienteController.paciente.sangue}">
										<f:selectItem itemLabel="Selecione" itemValue="" />
										<f:selectItem itemLabel="A+" itemValue="A+" />
										<f:selectItem itemLabel="A-" itemValue="A-" />
										<f:selectItem itemLabel="B+" itemValue="B+" />
										<f:selectItem itemLabel="B-" itemValue="B-" />
										<f:selectItem itemLabel="AB+" itemValue="AB+" />
										<f:selectItem itemLabel="AB-" itemValue="AB-" />
										<f:selectItem itemLabel="O+" itemValue="O+" />
										<f:selectItem itemLabel="O-" itemValue="O-" />
										<f:ajax event="blur" />
									</b:selectOneMenu>

								</div>


								<h:outputLabel for="pai" value="Pai"
									class="col-sm-1 control-label" />
								<div class="col-sm-5">
									<h:inputText value="#{PacienteController.paciente.nomePai}"
										class="form-control" id="pai"
										pt:placeholder="Digite aqui o nome do seu pai entre 2 e 30 caracteres"
										required="false"
										validatorMessage="Nome deve conter entre 2 e 30 caracteres."
										requiredMessage="é necessário que você informe o nome do seu pai.">
										<f:validateLength minimum="2" maximum="40" />

									</h:inputText>

								</div>

							</div>


							<div class="form-group">
								<h:outputLabel for="mae" value="Mãe"
									class="col-xs-1 control-label" />
								<div class="col-sm-5">
									<h:inputText value="#{PacienteController.paciente.nomeMae}"
										class="form-control" id="mae"
										pt:placeholder="Digite aqui o nome da sua mãe entre 2 e 30 caracteres"
										required="false"
										validatorMessage="Nome deve conter entre 2 e 30 caracteres."
										requiredMessage="é necessário que você informe o nome da sua mãe.">
										<f:validateLength minimum="2" maximum="40" />

									</h:inputText>

								</div>
								<h:outputLabel for="conjuge" value="Conjuge"
									class="col-sm-1 control-label" />
								<div class="col-sm-5">
									<h:inputText value="#{PacienteController.paciente.conjuge}"
										class="form-control" id="conjuge"
										pt:placeholder="Digite aqui seu conjuge entre 2 e 30 caracteres"
										required="true"
										validatorMessage="Conjuge deve conter entre 2 e 30 caracteres."
										requiredMessage="é necessário que você informe seu nome.">
										<f:validateLength minimum="2" maximum="40" />

									</h:inputText>

								</div>
							</div>

							<div class="form-group">
								<h:outputLabel for="cor" value="Cor/Raça"
									class="col-sm-1 control-label" />
								<div class="col-sm-2">
									<b:selectOneMenu disable="true"
										value="#{PacienteController.paciente.codRaca}" id="cor">
										<f:selectItem itemLabel="Selecione" itemValue="0" />
										<f:selectItems value="#{PacienteController.listaRaca}"
											var="sis" itemLabel="#{sis.descRaca}"
											itemValue="#{sis.codRaca}" />

										<f:ajax event="blur" />
									</b:selectOneMenu>

								</div>
								<h:outputLabel for="phone1" value="Telefone Res."
									class="col-sm-1 control-label" />
								<div class="col-sm-2">
									<h:inputText id="phone1" class="form-control"
										value="#{PacienteController.paciente.endereco.telefoneres}" />

								</div>
								<h:outputLabel for="phone2" value="Telefone Cel."
									class="col-sm-1 control-label" />
								<div class="col-sm-2">
									<h:inputText id="phone2" class="form-control"
										value="#{PacienteController.paciente.endereco.telefonecel}" />
								</div>
							</div>
							<div class="form-group">
								<h:outputLabel for="phone3" value="Telefone Trab."
									class="col-sm-1 control-label" />
								<div class="col-sm-2">
									<h:inputText id="phone3" class="form-control"
										value="#{PacienteController.paciente.endereco.telefonetrab}" />
								</div>
								<h:outputLabel for="phone4" value="Orelhão:"
									class="col-sm-1 control-label" />
								<div class="col-sm-2">
									<h:inputText id="phone4" class="form-control"
										value="#{PacienteController.paciente.endereco.telefoneorelhao}" />
								</div>
							</div>


						</p:tab>


					</p:tabView>



					<p:separator></p:separator>
					<!-- FIM DO FORMULARIO -->
					<center>
						<b:commandButton action="#{PacienteController.alterarPaciente()}"
							icon="glyphicon-ok" size="sm"
							update=":formCADU:message,:formCADU" value="Alterar"
							look="success" rendered="#{PacienteController.tipo  == 2}" />
						<b:commandButton value="Voltar" icon="glyphicon-arrow-left"
							style="margin-left:10px" size="sm" immediate="true" look="info"
							action="/pages/sishosp/gerenciarPaciente.faces?faces-redirect=true">
						</b:commandButton>

					</center>



				</b:panel>
		</h:form>


		<p:dialog style="font-size: 12px;" widgetVar="dlgbuscaescola"
			height="460" width="800" modal="true" resizable="false">

			<f:facet name="header">
				<h:panelGroup>
					<h:outputText id="n27" value="Lista de Escolas"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<h:form id="buscaescola">


				<center>
					<p:outputPanel id="outinter">
						<p:dataTable value="#{PacienteController.listaEscolas}"
							var="busca" paginator="true" paginatorPosition="bottom"
							id="tableescola" emptyMessage="Nenhum Interessado"
							sortMode="single" rows="11" class="fonteForm" widgetVar="800">

							<p:column id="n31" style="width:50px">
								<f:facet name="header">
									<h:outputText id="n32" value="Id Escola" class="fonteForm" />
								</f:facet>
								<h:outputText id="n33" class="fonteForm"
									value="#{busca.codEscola}" />
							</p:column>

							<p:column id="n34" style="width:380px">
								<f:facet name="header">
									<h:outputText id="n35" value="Nome Escola" class="fonteForm" />
								</f:facet>
								<h:outputText id="n36" class="fonteForm"
									value="#{busca.descescola}" />
							</p:column>
							<p:column id="n37" style=" width:100px;text-align:center;">
								<f:facet name="header">
									<h:outputText id="n38" value="Codigo" class="fonteForm" />
								</f:facet>
								<h:outputText id="n39" class="fonteForm"
									value="#{busca.codtipoescola}" />
							</p:column>

							<p:column id="n40" style="width:50px">
								<f:facet name="header">
									<h:outputText id="n41" value="Ação" class="fonteForm" />
								</f:facet>

								<p:commandButton oncomplete="PF('dlgbuscaescola').hide()"
									icon="podeGravar" id="confirmar" update=":formCADU">

									<f:setPropertyActionListener value="#{busca}"
										target="#{PacienteController.escolaSuggestion}" />

									<p:tooltip for="confirmar" value="Selecionar Escola"></p:tooltip>
								</p:commandButton>
							</p:column>

						</p:dataTable>
					</p:outputPanel>
				</center>
			</h:form>
		</p:dialog>

		<p:dialog style="font-size: 12px;" widgetVar="dlgbuscaescolaridade"
			height="460" width="800" modal="true" resizable="false">

			<f:facet name="header">
				<h:panelGroup>
					<h:outputText id="n2" value="Lista de Escolaridade"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<h:form id="buscaescolaridade">

				<center>
					<p:outputPanel id="outinter2">
						<p:dataTable value="#{PacienteController.listaEscolaridade}"
							var="busca" paginator="true" paginatorPosition="bottom"
							id="tableescolaridade" emptyMessage="Nenhum Interessado"
							sortMode="single" rows="11" class="fonteForm" widgetVar="800">

							<p:column id="n6" style="width:50px">
								<f:facet name="header">
									<h:outputText id="n7" value="Id Escolaridade" class="fonteForm" />
								</f:facet>
								<h:outputText id="n8" class="fonteForm"
									value="#{busca.codescolaridade}" />
							</p:column>

							<p:column id="n12" style="width:380px">
								<f:facet name="header">
									<h:outputText id="n13" value="Escolaridade" class="fonteForm" />
								</f:facet>
								<h:outputText id="n14" class="fonteForm"
									value="#{busca.descescolaridade}" />
							</p:column>


							<p:column id="n15" style="width:50px">
								<f:facet name="header">
									<h:outputText id="n16" value="Ação" class="fonteForm" />
								</f:facet>

								<p:commandButton oncomplete="PF('dlgbuscaescolaridade').hide();"
									icon="podeGravar" id="confirmar" update=":formCADU">


									<f:setPropertyActionListener value="#{busca}"
										target="#{PacienteController.escolaridadeSuggestion}" />
									<p:tooltip for="confirmar" value="Selecionar Escolaridade"></p:tooltip>
								</p:commandButton>
							</p:column>

						</p:dataTable>
					</p:outputPanel>
				</center>
			</h:form>
		</p:dialog>


	</ui:define>
</ui:composition>
</html>