<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:stella="http://stella.caelum.com.br/faces2"
      xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="../../template/template.xhtml">

    <f:metadata>
        <f:viewAction action="#{PacienteController.getEditPaciente()}"/>
    </f:metadata>

    <ui:define name="body">

        <h:form class="form-horizontal" id="frmPrincipal">

            <div class="panel-body">
                <div class="sub-header">
                    <h:outputText value="#{PacienteController.cabecalho}"
                                  styleClass="cadcabecalho"></h:outputText>
                    <hr/>
                </div>

                <p:tabView style="height:auto; width:auto" id="tbv">

                    <p:tab title="Dados Pessoais">

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel for="inputname" value="Nome"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="5">
                                <b:inputText value="#{PacienteController.paciente.nome}"
                                             class="form-control" id="inputname"
                                             required="true"
                                             validatorMessage="Nome deve conter entre 2 e 60 caracteres."
                                             requiredMessage="Nome: Campo obrigatório!">
                                    <f:validateLength minimum="2" maximum="60"/>
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel value="Nascimento" style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <p:calendar pattern="dd/MM/yyyy" mask="true" navigator="true"
                                            yearRange="-111:+39" pages="1" showOn="button" size="12"
                                            requiredMessage="Nascimento: Campo obrigatório!"
                                            required="true"
                                            value="#{PacienteController.paciente.dtanascimento}"
                                            locale="pt"/>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="estadocivil" value="Est. Civil"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:selectOneMenu
                                        value="#{PacienteController.paciente.estadoCivil}"
                                        disable="true" id="estadocivil">
                                    <f:selectItem itemLabel="Selecione" itemValue=""/>
                                    <f:selectItem itemLabel="Solteiro" itemValue="S"/>
                                    <f:selectItem itemLabel="Casado" itemValue="C"/>
                                    <f:selectItem itemLabel="Viúvo" itemValue="V"/>
                                    <f:selectItem itemLabel="Divorciado" itemValue="D"/>
                                    <f:selectItem itemLabel="Outros" itemValue="O"/>
                                </b:selectOneMenu>
                            </b:column>

                        </b:row>

                        <br></br>

                        <b:row>

                            <p:outputPanel id="outNomeSocial">
                                <b:column span="3">
                                    <p:selectBooleanCheckbox label="Necessita nome social"
                                                             itemLabel="Necessita nome social"
                                                             style="margin-left: 15px"
                                                             value="#{PacienteController.paciente.necessitaNomeSocial}">
                                        <p:ajax update="outNomeSocial"></p:ajax>
                                    </p:selectBooleanCheckbox>
                                </b:column>

                                <b:column span="1">
                                    <h:outputLabel for="inputnamesocial" value="Nome Social" id="idnomesociallabel"
                                                   rendered="#{PacienteController.paciente.necessitaNomeSocial == true}"
                                                   style="margin-top:10px"/>
                                </b:column>

                                <b:column span="4">
                                    <b:inputText value="#{PacienteController.paciente.nomeSocial}"
                                                 rendered="#{PacienteController.paciente.necessitaNomeSocial == true}"
                                                 class="form-control" id="inputnamesocial"
                                                 required="true"
                                                 validatorMessage="Nome deve conter entre 2 e 60 caracteres."
                                                 requiredMessage="Nome: Campo obrigatório!">
                                        <f:validateLength minimum="2" maximum="60"/>
                                    </b:inputText>
                                </b:column>

                                <b:column span="1">
                                    <h:outputLabel value="Motivo"
                                                   rendered="#{PacienteController.paciente.necessitaNomeSocial == true}"
                                                   style="margin-top:10px"/>
                                </b:column>

                                <b:column span="3">
                                    <b:selectOneMenu required="true"
                                                     rendered="#{PacienteController.paciente.necessitaNomeSocial == true}"
                                                     style="margin-left:15px"
                                                     requiredMessage="Motivo: Campo obrigatório!"
                                                     id="motivo"
                                                     value="#{PacienteController.paciente.motivoNomeSocial}">
                                        <f:selectItem itemLabel="Selecione" itemValue=""/>
                                        <f:selectItem itemLabel="Transexual" itemValue="TS"/>
                                        <f:selectItem itemLabel="Travesti" itemValue="TR"/>
                                    </b:selectOneMenu>
                                </b:column>

                            </p:outputPanel>

                        </b:row>

                        <br></br>

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel for="sexo" value="Sexo" style="margin-top:10px"/>
                            </b:column>

                            <b:column span="3">
                                <b:selectOneMenu required="true" disable="true"
                                                 style="margin-left:15px" requiredMessage="Sexo: Campo obrigatório!"
                                                 id="sexo" value="#{PacienteController.paciente.sexo}">
                                    <f:selectItem itemLabel="Selecione" itemValue=""/>
                                    <f:selectItem itemLabel="Masculino" itemValue="M"/>
                                    <f:selectItem itemLabel="Feminino" itemValue="F"/>
                                </b:selectOneMenu>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="sangue" value="Sangue"
                                               style="margin-top:10px;margin-left:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:selectOneMenu required="false" disable="true"
                                                 requiredMessage="Informe o sangue" id="sangue"
                                                 value="#{PacienteController.paciente.sangue}">
                                    <f:selectItem itemLabel="Selecione" itemValue=""/>
                                    <f:selectItem itemLabel="A+" itemValue="A+"/>
                                    <f:selectItem itemLabel="A-" itemValue="A-"/>
                                    <f:selectItem itemLabel="B+" itemValue="B+"/>
                                    <f:selectItem itemLabel="B-" itemValue="B-"/>
                                    <f:selectItem itemLabel="AB+" itemValue="AB+"/>
                                    <f:selectItem itemLabel="AB-" itemValue="AB-"/>
                                    <f:selectItem itemLabel="O+" itemValue="O+"/>
                                    <f:selectItem itemLabel="O-" itemValue="O-"/>

                                </b:selectOneMenu>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="cor" value="Cor/Raça"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="3">
                                <b:selectOneMenu disable="true" style="margin-left:15px"
                                                 value="#{PacienteController.paciente.codRaca}" id="cor">
                                    <f:selectItem itemLabel="Selecione" itemValue=""/>
                                    <f:selectItems value="#{PacienteController.listaRaca}"
                                                   var="sis" itemLabel="#{sis.descRaca}"
                                                   itemValue="#{sis.codRaca}"/>
                                </b:selectOneMenu>
                            </b:column>

                        </b:row>

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel for="mae" value="Mãe" style="margin-top:10px"/>

                            </b:column>
                            <b:column span="5">
                                <b:inputText value="#{PacienteController.paciente.nomeMae}"
                                             class="form-control" id="mae" required="true"
                                             requiredMessage="Mãe: Campo obrigatório!"
                                             validatorMessage="Nome da Mãe deve conter entre 2 e 60 caracteres.">
                                    <f:validateLength minimum="2" maximum="60"/>
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="pai" value="Pai" style="margin-top:10px"/>
                            </b:column>

                            <b:column span="5">
                                <b:inputText value="#{PacienteController.paciente.nomePai}"
                                             class="form-control" id="pai">
                                </b:inputText>
                            </b:column>

                        </b:row>

                        <br></br>

                        <b:row>
                            <b:column span="1">
                                <h:outputLabel for="conjuge" value="Conjuge"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="5">
                                <b:inputText value="#{PacienteController.paciente.conjuge}"
                                             class="form-control" id="conjuge">
                                </b:inputText>
                            </b:column>

                            <b:column span="3">
                                <p:commandButton style="margin-top: 8px;margin-left: 30px" value="Adicionar Telefone"
                                                 actionListener="#{PacienteController.limparTelefone}"
                                                 onclick="PF('dlgTelefone').show();"
                                                 icon="ui-icon-plus" update=":frmPrincipal:tbv:outTabelaTelefones">
                                </p:commandButton>
                            </b:column>

                        </b:row>

                        <br></br>

                        <b:row>
                        <b:column span="12">

                            <p:outputPanel id="outTabelaTelefones">
                            <p:dataTable emptyMessage="Nenhum telefone adicionado"
                                         styleClass="table table-hover" id="tabela"
                                         value="#{PacienteController.paciente.listaTelefones}" var="tab"
                                         paginator="true" paginatorPosition="bottom" rows="5"
                                         resizableColumns="false">

                                <p:column headerText="Telefone" style="font-weight:bold;" width="35%">
                                    <h:outputText value="#{tab.telefone}"/>
                                </p:column>

                                <p:column headerText="Responsável" style="font-weight:bold;" width="35%">
                                    <h:outputText value="#{tab.responsavel}"/>
                                </p:column>

                                <p:column headerText="Whatsapp" style="font-weight:bold;" width="20%">
                                    <h:outputText value="Sim" rendered="#{tab.whatsapp == true}"/>
                                    <h:outputText value="Não" rendered="#{tab.whatsapp != true}"/>
                                </p:column>

                                <p:column headerText="Ação" width="10%">
                                    <div align="center">
                                        <p:commandButton process="@this"
                                                         action="#{PacienteController.removeListaTelefone()}"
                                                         icon="ui-icon-trash" update=":frmPrincipal:tbv:outTabelaTelefones">
                                            <f:setPropertyActionListener value="#{tab}"
                                                                         target="#{PacienteController.telefone}"/>
                                        </p:commandButton>
                                    </div>
                                </p:column>
                            </p:dataTable>
                            </p:outputPanel>

                        </b:column>

                        </b:row>

                    </p:tab>

                    <p:tab title="Endereço">

                        <b:row>
                            <b:column span="1">
                                <h:outputLabel for="inputcep" value="CEP"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <p:inputMask mask="99999-999" id="inputcep"
                                             value="#{PacienteController.paciente.endereco.cep}"
                                             class="form-control" required="true"
                                             requiredMessage="CEP: Campo obrigatório!">

                                    <p:ajax listener="#{PacienteController.encontraCEP}"
                                            update="outBairro, bairro1, bairro2, inputrua, estado, outMunicipios,
                                            frmPrincipal:msgPagina"
                                            global="false" event="blur"></p:ajax>
                                </p:inputMask>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="inputrua" value="Logradouro"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="8">
                                <b:inputText
                                        value="#{PacienteController.paciente.endereco.logradouro}"
                                        required="true"
                                        requiredMessage="Logradouro: Campo obrigatório!"
                                        class="form-control" id="inputrua"
                                        validatorMessage="Logradouro deve conter entre 2 e 50 caracteres.">
                                    <f:validateLength minimum="2" maximum="50"/>
                                </b:inputText>
                            </b:column>

                        </b:row>
                        <br></br>

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel for="inputcomplemento" value="Complem."
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText
                                        value="#{PacienteController.paciente.endereco.complemento}"
                                        class="form-control" id="inputcomplemento">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="referencia" value="Referência"
                                               style="margin-top:10px;margin-left:10px"/>
                            </b:column>

                            <b:column span="7">
                                <b:inputText
                                        value="#{PacienteController.paciente.endereco.referencia}"
                                        class="form-control" id="referencia">
                                </b:inputText>
                            </b:column>

                        </b:row>

                        <br></br>

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel for="numero" value="Número"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText
                                        value="#{PacienteController.paciente.endereco.numero}"
                                        class="form-control" id="numero">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="estado" value="Estado"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="3">
                                <b:selectOneMenu required="true" requiredMessage="Estado: Campo obrigatório!"
                                                 value="#{PacienteController.paciente.endereco.uf}" id="estado">
                                    <f:selectItem itemLabel="Selecione" itemValue=""/>
                                    <f:selectItems value="#{EnderecoController.endereco.listaEstados}"/>
                                    <p:ajax listener="#{EnderecoController.listarMunicipiosPorEstado()}" update="outMunicipios"></p:ajax>
                                </b:selectOneMenu>
                            </b:column>

                        </b:row>

                        <br></br>

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel value="Município"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="3">

                                    <p:outputPanel id="outMunicipios">

                                        <b:selectOneMenu required="true" requiredMessage="Município: Campo obrigatório!"
                                                         value="#{PacienteController.paciente.endereco.codmunicipio}">
                                            <f:selectItem itemLabel="Selecione" itemValue=""/>
                                            <f:selectItems value="#{EnderecoController.listarMunicipiosPorEstado()}"
                                                           var="sis" itemLabel="#{sis.municipio}"
                                                           itemValue="#{sis.codmunicipio}"/>
                                        </b:selectOneMenu>
                                    </p:outputPanel>

                            </b:column>

                            <b:column span="1">
                                <h:outputLabel value="Bairro"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="3">

                                <p:outputPanel id="outBairro">
                                    <b:selectOneMenu id="bairro1" rendered="#{PacienteController.paciente.endereco.bairroUnico == true}" required="true" requiredMessage="Bairro: Campo obrigatório!"
                                                     value="#{PacienteController.paciente.endereco.codbairro}">
                                        <f:selectItem itemLabel="Selecione" itemValue=""/>
                                        <f:selectItems value="#{EnderecoController.listarBairrosPorMunicipio(PacienteController.paciente.endereco.codmunicipio)}"
                                                       var="sis" itemLabel="#{sis.bairro}"
                                                       itemValue="#{sis.codbairro}"/>
                                    </b:selectOneMenu>

                                   <p:outputLabel id="bairro2" style="margin-top: 10px" value="#{PacienteController.paciente.endereco.bairro}"></p:outputLabel>
                                </p:outputPanel>

                            </b:column>
                        </b:row>


                    </p:tab>

                    <p:tab title="Documentos">

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel for="rg" value="RG Número"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText disable="true"
                                             value="#{PacienteController.paciente.rg}" class="form-control"
                                             id="rg"
                                             validatorMessage="RG deve conter entre 8 digitos.">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="oe" value="RG Órgão Expedidor"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText value="#{PacienteController.paciente.oe}"
                                             class="form-control" id="oe">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="dtaexpedicao" value="RG Dta.Expedição"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <p:calendar pattern="dd/MM/yyyy" mask="true" navigator="true" id="dtaexpedicao"
                                            yearRange="-111:+39" pages="1" showOn="button" size="12"
                                            value="#{PacienteController.paciente.dataExpedicao1}"
                                            locale="pt"/>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="cpf" value="CPF" style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <p:inputMask mask="999.999.999-99"
                                             value="#{PacienteController.paciente.cpf}" class="form-control"
                                             id="cpf" required="true"
                                             requiredMessage="CPF: Campo obrigatório!">
                                    <stella:validateCPF formatted="true"/>
                                </p:inputMask>
                            </b:column>
                        </b:row>

                        <br></br>

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel for="cns" value="CNS" style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <h:inputText value="#{PacienteController.paciente.cns}"
                                             class="form-control" id="cns"
                                             validatorMessage="CNS deve conter entre 15 digitos.">
                                    <p:ajax listener="#{PacienteController.validaCns(PacienteController.paciente.cns)}"
                                            global="false" event="blur"
                                            update=":frmPrincipal:msgPagina, :frmPrincipal:tbv:cns"/>
                                </h:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="protant" value="Prot.Ant"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText value="#{PacienteController.paciente.protant}"
                                             class="form-control" id="protant">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="reservista" value="Reservista"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText value="#{PacienteController.paciente.reservista}"
                                             class="form-control" id="reservista"
                                             validatorMessage="Numero da Reservista deve conter entre 12 digitos.">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="carttrabalho" value="CTPS Núm."
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText value="#{PacienteController.paciente.ctps}"
                                             class="form-control" id="carttrabalho">
                                </b:inputText>
                            </b:column>

                        </b:row>

                        <br></br>

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel for="serie" value="CTPS Série"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText value="#{PacienteController.paciente.serie}"
                                             class="form-control" id="serie">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="pis" value="PIS" style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <h:inputText value="#{PacienteController.paciente.pis}"
                                             class="form-control" id="pis" required="false">
                                    <p:ajax listener="#{PacienteController.validaPIS(PacienteController.paciente.pis)}"
                                            global="false" event="blur"
                                            update=":frmPrincipal:msgPagina, :frmPrincipal:tbv:pis"/>
                                </h:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="numero2" value="Reg. Nasc. Núm"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText
                                        value="#{PacienteController.paciente.numeroCartorio}"
                                        class="form-control" id="numero2">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="cartorio" value="Reg. Nasc. Cartório"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText value="#{PacienteController.paciente.cartorio}"
                                             class="form-control" id="cartorio">
                                </b:inputText>
                            </b:column>

                        </b:row>

                        <br></br>

                        <b:row>

                            <b:column span="1">
                                <h:outputLabel for="livro" value="Reg. Nasc. Livro"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText value="#{PacienteController.paciente.livro}"
                                             class="form-control" id="livro">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="folha" value="Reg. Nasc. Folha"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <b:inputText value="#{PacienteController.paciente.folha}"
                                             class="form-control" id="folha">
                                </b:inputText>
                            </b:column>

                            <b:column span="1">
                                <h:outputLabel for="dtaexpedicao2" value="Dta.Expedição"
                                               style="margin-top:10px"/>
                            </b:column>

                            <b:column span="2">
                                <p:calendar pattern="dd/MM/yyyy" mask="true" navigator="true"
                                            yearRange="-111:+39" pages="1" showOn="button" size="12"
                                            id="dtaexpedicao2"
                                            value="#{PacienteController.paciente.dataExpedicao2}"
                                            locale="pt"/>
                            </b:column>
                        </b:row>


                    </p:tab>

                    <p:tab title="Complemento 1">

                        <b:row>
                            <b:column span="2">
                                <p:outputLabel value="Associado" style="margin-top:10px"></p:outputLabel>
                            </b:column>

                            <b:column span="2">
                                <p:selectOneRadio
                                        value="#{PacienteController.paciente.associado}">
                                    <f:selectItem itemLabel="Sim" itemValue="s"/>
                                    <f:selectItem itemLabel="Não" itemValue="n"/>
                                </p:selectOneRadio>
                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="Escolaridade:" style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <p:autoComplete id="escolacomplete1"
                                                style="background-color:white !important"
                                                value="#{PacienteController.escolaridadeSuggestion}" size="40"
                                                completeMethod="#{PacienteController.completeText2}"
                                                effect="fade" var="theme" forceSelection="true"
                                                minQueryLength="1" itemValue="#{theme}"
                                                itemLabel="#{theme.descescolaridade}"
                                                converter="conEscolaridade">
                                    <p:ajax event="itemSelect"
                                            listener="#{PacienteController.onItemSelect2}"/>
                                </p:autoComplete>
                            </b:column>

                            <b:column span="1">
                                <p:commandButton onclick="PF('dlgbuscaescolaridade').show();"
                                                 icon="ui-icon-search" process="@this"/>
                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">

                                <p:outputLabel value="Escola: " style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <p:autoComplete id="escolacomplete2"
                                                style="font-size:12px"
                                                value="#{PacienteController.escolaSuggestion}" size="40"
                                                completeMethod="#{PacienteController.completeText}"
                                                effect="fade" var="theme" forceSelection="true"
                                                minQueryLength="1" itemValue="#{theme}"
                                                itemLabel="#{theme.descescola}" converter="conEscola">
                                    <p:ajax event="itemSelect"
                                            listener="#{PacienteController.onItemSelect}"/>
                                </p:autoComplete>
                            </b:column>

                            <b:column span="1">
                                <p:commandButton process="@this"
                                                 onclick="PF('dlgbuscaescola').show();" icon="ui-icon-search"/>
                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="Profissão: " style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <p:autoComplete id="escolacomplete3"
                                                style="font-size:12px"
                                                value="#{PacienteController.profissaoSuggestion}" size="40"
                                                completeMethod="#{PacienteController.completeText6}"
                                                effect="fade" var="theme" forceSelection="true"
                                                minQueryLength="1" itemValue="#{theme}"
                                                itemLabel="#{theme.descprofissao}" converter="conProfissao">
                                    <p:ajax event="itemSelect"
                                            listener="#{PacienteController.onItemSelect6}"/>
                                </p:autoComplete>
                            </b:column>

                            <b:column span="1">
                                <p:commandButton process="@this"
                                                 onclick="PF('dlgbuscaprofissao').show();" icon="ui-icon-search"/>

                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="Trabalha:" style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <p:selectOneRadio style="width:40%;" id="options2"
                                                  value="#{PacienteController.paciente.trabalha}">
                                    <f:selectItem itemLabel="Sim" itemValue="S"/>
                                    <f:selectItem itemLabel="Não" itemValue="N"/>
                                </p:selectOneRadio>
                            </b:column>
                        </b:row>
                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="Local: " style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <p:outputPanel>
                                    <b:inputText id="nome4" size="45"
                                                 style="margin-left:15px"
                                                 value="#{PacienteController.paciente.localtrabalha}"/>
                                </p:outputPanel>
                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="Responsavel:" style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <b:selectOneMenu id="options3" required="false" requiredMessage=" Parentesco: Campo obrigatório!"
                                                 value="#{PacienteController.paciente.codparentesco}">
                                    <f:selectItem itemLabel="Selecione" itemValue=""/>
                                    <f:selectItems value="#{ParentescoController.listarParentescos()}"
                                                   var="sis" itemLabel="#{sis.descParentesco}"
                                                   itemValue="#{sis.codParentesco}"/>
                                </b:selectOneMenu>
                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="Nome do Responsável: "
                                               style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <p:outputPanel>
                                    <b:inputText id="nome5" size="45"
                                                 style="margin-left:15px"
                                                 value="#{PacienteController.paciente.nomeresp}"/>
                                </p:outputPanel>
                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="RG: " style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="2">
                                <p:outputPanel>
                                    <b:inputText id="nome6" size="45"
                                                 style="margin-left:15px"
                                                 value="#{PacienteController.paciente.rgresp}"/>
                                </p:outputPanel>
                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="CPF: " style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="2">
                                <p:outputPanel>
                                    <p:inputMask mask="999.999.999-99" id="nome7" size="45"
                                                 style="margin-left:15px"
                                                 value="#{PacienteController.paciente.cpfresp}">
                                        <p:ajax listener="#{PacienteController.validaCPF(PacienteController.paciente.cpfresp)}"
                                                global="false" event="blur"
                                                update=":frmPrincipal:msgPagina, :frmPrincipal:tbv:nome7"/>
                                    </p:inputMask>

                                </p:outputPanel>
                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="Nascimento Resp">
                                    <font color="red">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <p:calendar pattern="dd/MM/yyyy" mask="true" navigator="true"
                                            yearRange="-111:+39" pages="1" showOn="button" size="12"
                                            value="#{PacienteController.paciente.dataNascimentoresp}"
                                            locale="pt"/>

                            </b:column>
                        </b:row>
                    </p:tab>
                    <p:tab title="Complemento 2">

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="Encaminhado: " style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <p:autoComplete id="escolacomplete4" style="font-size:12px"
                                                value="#{PacienteController.encaminhadoSuggestion}" size="40"
                                                completeMethod="#{PacienteController.completeText4}"
                                                effect="fade" var="theme" forceSelection="true"
                                                minQueryLength="1" itemValue="#{theme}"
                                                itemLabel="#{theme.descencaminhado}" converter="conEncaminhado">
                                    <p:ajax event="itemSelect"
                                            listener="#{PacienteController.onItemSelect4}"/>
                                </p:autoComplete>

                            </b:column>

                            <b:column span="1">
                                <p:commandButton process="@this"
                                                 onclick="PF('dlgbuscaencaminhado').show();"
                                                 icon="ui-icon-search"/>
                            </b:column>
                        </b:row>

                        <b:row>

                            <b:column span="2">
                                <p:outputLabel value="Transporte: " style="margin-top:10px">
                                    <font color="#FF0000">*</font>
                                </p:outputLabel>
                            </b:column>

                            <b:column span="3">
                                <p:autoComplete id="escolacomplete5"
                                                style="font-size:12px"
                                                value="#{PacienteController.transporteSuggestion}" size="40"
                                                completeMethod="#{PacienteController.completeText5}"
                                                effect="fade" var="theme" forceSelection="true"
                                                minQueryLength="1" itemValue="#{theme}"
                                                itemLabel="#{theme.descformatransporte}"
                                                converter="conFormaTransporte">
                                    <p:ajax event="itemSelect"
                                            listener="#{PacienteController.onItemSelect5}"/>
                                </p:autoComplete>
                            </b:column>

                            <b:column span="1">
                                <p:commandButton process="@this"
                                                 onclick="PF('dlgbuscacomochegou').show();"
                                                 icon="ui-icon-search"/>
                            </b:column>
                        </b:row>

                    </p:tab>

                    <p:tab title="Complemento 3">


                        <p:outputPanel id="outDeficiencia" autoUpdate="true">
                            <b:row>
                                <b:column span="2">
                                    <p:outputLabel value="Apresenta Deficiência:"
                                                   style="margin-top:10px">
                                        <font color="#FF0000">*</font>
                                    </p:outputLabel>
                                </b:column>

                                <b:column span="3">
                                    <p:selectOneRadio style="width:40%;"
                                                      value="#{PacienteController.paciente.deficiencia}">
                                        <f:selectItem itemLabel="Sim" itemValue="S"/>
                                        <f:selectItem itemLabel="Não" itemValue="N"/>
                                        <p:ajax update="outDeficiencia"></p:ajax>
                                    </p:selectOneRadio>
                                </b:column>
                            </b:row>

                            <p:panel
                                    style="height:auto; width:100px; background-color: #F5F5F5;"
                                    rendered="#{PacienteController.paciente.deficiencia == 'S'}">
                                <p:outputLabel value="Tipo:"></p:outputLabel>
                                <p:selectBooleanCheckbox label="Física" itemLabel="Física"
                                                         rendered="#{PacienteController.paciente.deficiencia == 'S'}"
                                                         value="#{PacienteController.paciente.deficienciaFisica}"/>
                                <p:selectBooleanCheckbox label="Mental" itemLabel="Mental"
                                                         rendered="#{PacienteController.paciente.deficiencia == 'S'}"
                                                         value="#{PacienteController.paciente.deficienciaMental}"/>
                                <p:selectBooleanCheckbox label="Auditiva" itemLabel="Auditiva"
                                                         rendered="#{PacienteController.paciente.deficiencia == 'S'}"
                                                         value="#{PacienteController.paciente.deficienciaAuditiva}"/>
                                <p:selectBooleanCheckbox label="Visual" itemLabel="Visual"
                                                         rendered="#{PacienteController.paciente.deficiencia == 'S'}"
                                                         value="#{PacienteController.paciente.deficienciaVisual}"/>
                                <p:selectBooleanCheckbox label="Múltipla" itemLabel="Múltipla"
                                                         rendered="#{PacienteController.paciente.deficiencia == 'S'}"
                                                         value="#{PacienteController.paciente.deficienciaMultipla}"/>

                            </p:panel>

                        </p:outputPanel>


                    </p:tab>

                    <p:tab title="Dados Internet">


                        <p:outputPanel id="outDadosInternet" autoUpdate="true">
                            <b:row>

                                <b:column span="1">
                                    <h:outputLabel value="E-mail"
                                                   style="margin-top:10px"/>
                                </b:column>

                                <b:column span="6">
                                    <b:inputText value="#{PacienteController.paciente.email}"
                                                 class="form-control" id="inputemail">
                                    </b:inputText>
                                </b:column>

                            </b:row>

                            <b:row>

                                <b:column span="1">
                                    <h:outputLabel value="Facebook"
                                                   style="margin-top:10px"/>
                                </b:column>

                                <b:column span="6">
                                    <b:inputText value="#{PacienteController.paciente.facebook}"
                                                 class="form-control" id="inputfacebook">
                                    </b:inputText>
                                </b:column>

                            </b:row>

                            <b:row>

                                <b:column span="1">
                                    <h:outputLabel value="Instagram"
                                                   style="margin-top:10px"/>
                                </b:column>

                                <b:column span="6">
                                    <b:inputText value="#{PacienteController.paciente.instagram}"
                                                 class="form-control" id="inputinstagram">
                                    </b:inputText>
                                </b:column>

                            </b:row>

                        </p:outputPanel>


                    </p:tab>

                </p:tabView>
            </div>
            <div align="center">
                <b:messages value="Error" id="msgPagina"></b:messages>
            </div>

            <div align="center">
                <b:commandButton action="#{PacienteController.gravarPaciente()}"
                                 icon="glyphicon-ok" size="sm" look="success" update=":frmPrincipal"
                                 value="Incluir" style="float:left"
                                 rendered="#{PacienteController.tipo == 1}"/>

                <b:commandButton action="#{PacienteController.alterarPaciente()}"
                                 icon="glyphicon-ok" size="sm" update=":frmPrincipal" value="Alterar"
                                 look="success" style="float:left"
                                 rendered="#{PacienteController.tipo  == 2}"/>

                <b:commandButton value="Voltar" icon="glyphicon-arrow-left"
                                 style="float:right" size="sm" immediate="true" look="info"
                                 action="/pages/sishosp/gerenciarPaciente.faces?faces-redirect=true">
                </b:commandButton>

            </div>


        </h:form>


        <p:dialog style="font-size: 12px;" widgetVar="dlgbuscaescola"
                  modal="true" resizable="false">

            <f:facet name="header">
                <h:panelGroup>
                    <h:outputText id="n27" value="Consultar Escolas"></h:outputText>
                </h:panelGroup>
            </f:facet>
            <h:form id="buscaescola">
                <div align="center">
                    <p:outputPanel id="outinter">
                        <b:dataTable customLangUrl="#{resource['pt-br.json']}"
                                     value="#{PacienteController.listaEscolas}"
                                     var="busca" id="tableescola"
                                     display="Nenhuma Equipe">

                            <h:column>
                                <f:facet name="header">
                                    Escola
                                </f:facet>
                                <p:outputLabel value="#{busca.descescola}"/>
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    Adicionar
                                </f:facet>
                                <p:commandButton oncomplete="PF('dlgbuscaescola').hide()" process="@this"
                                                 icon="ui-icon-check" id="confirmar"
                                                 update=":frmPrincipal:tbv:escolacomplete2">
                                    <f:setPropertyActionListener value="#{busca}"
                                                                 target="#{PacienteController.escolaSuggestion}"/>
                                    <p:tooltip for="confirmar" value="Selecionar Escola"></p:tooltip>
                                </p:commandButton>
                            </h:column>

                        </b:dataTable>
                    </p:outputPanel>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog style="font-size: 12px;" widgetVar="dlgbuscaescolaridade"
                  modal="true" resizable="false">

            <f:facet name="header">
                <h:panelGroup>
                    <h:outputText id="n2" value="Consultar Escolaridades"></h:outputText>
                </h:panelGroup>
            </f:facet>
            <h:form id="buscaescolaridade">

                <div align="center">
                    <p:outputPanel id="outinter2">
                        <b:dataTable customLangUrl="#{resource['pt-br.json']}"
                                     value="#{PacienteController.listaEscolaridade}"
                                     var="busca" id="tableescolaridade"
                                     display="Nenhuma Escolaridade">

                            <h:column>
                                <f:facet name="header">
                                    Escolaridade
                                </f:facet>
                                <p:outputLabel value="#{busca.descescolaridade}"/>
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    Adicionar
                                </f:facet>
                                <p:commandButton oncomplete="PF('dlgbuscaescolaridade').hide();"
                                                 process="@this" icon="ui-icon-check" id="confirmar"
                                                 update=":frmPrincipal:tbv:escolacomplete1">
                                    <f:setPropertyActionListener value="#{busca}"
                                                                 target="#{PacienteController.escolaridadeSuggestion}"/>
                                    <p:tooltip for="confirmar" value="Selecionar Escolaridade2"></p:tooltip>
                                </p:commandButton>
                            </h:column>

                        </b:dataTable>
                    </p:outputPanel>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog style="font-size: 12px;" widgetVar="dlgbuscaprofissao"
                  modal="true" resizable="false">

            <f:facet name="header">
                <h:panelGroup>
                    <h:outputText id="n17" value="Consultar Profissões"></h:outputText>
                </h:panelGroup>
            </f:facet>
            <h:form id="buscaprofissao">

                <div align="center">
                    <p:outputPanel id="outinter3">
                        <b:dataTable customLangUrl="#{resource['pt-br.json']}"
                                     value="#{PacienteController.listaProfissao}"
                                     var="busca" id="tableprofissao"
                                     display="Nenhuma Profissão">


                            <h:column>
                                <f:facet name="header">
                                    Profissão
                                </f:facet>
                                <p:outputLabel value="#{busca.descprofissao}"/>
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    Adicionar
                                </f:facet>
                                <p:commandButton oncomplete="PF('dlgbuscaprofissao').hide()"
                                                 icon="ui-icon-check" id="confirmar"
                                                 update=":frmPrincipal:tbv:escolacomplete3">
                                    <f:setPropertyActionListener value="#{busca}"
                                                                 target="#{PacienteController.profissaoSuggestion}"/>
                                    <p:tooltip for="confirmar" value="Selecionar Profissão"></p:tooltip>
                                </p:commandButton>
                            </h:column>

                        </b:dataTable>
                    </p:outputPanel>
                </div>
            </h:form>
        </p:dialog>


        <p:dialog style="font-size: 12px;" widgetVar="dlgbuscaencaminhado"
                  modal="true" resizable="false">

            <f:facet name="header">
                <h:panelGroup>
                    <h:outputText id="n46" value="Consultar Tipo de Encaminhamento"></h:outputText>
                </h:panelGroup>
            </f:facet>
            <h:form id="buscaencaminhado">

                <div align="center">
                    <p:outputPanel id="outinter4">
                        <b:dataTable customLangUrl="#{resource['pt-br.json']}"
                                     value="#{PacienteController.listaEncaminhado}"
                                     var="busca" id="tableencaminhado"
                                     display="Nenhum Tipo de Encaminhamento">

                            <h:column>
                                <f:facet name="header">
                                    Tipo de Encaminhamento
                                </f:facet>
                                <p:outputLabel value="#{busca.descencaminhado}"/>
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    Adicionar
                                </f:facet>
                                <p:commandButton oncomplete="PF('dlgbuscaencaminhado').hide()"
                                                 icon="ui-icon-check" id="confirmar"
                                                 update=":frmPrincipal:tbv:escolacomplete4">
                                    <f:setPropertyActionListener value="#{busca}"
                                                                 target="#{PacienteController.encaminhadoSuggestion}"/>
                                    <p:tooltip for="confirmar" value="Selecionar Encaminhado"></p:tooltip>
                                </p:commandButton>
                            </h:column>

                        </b:dataTable>
                    </p:outputPanel>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog style="font-size: 12px;" widgetVar="dlgbuscacomochegou"
                  modal="true" resizable="false">

            <f:facet name="header">
                <h:panelGroup>
                    <h:outputText id="n61" value="Consultar Formas de Transporte"></h:outputText>
                </h:panelGroup>
            </f:facet>
            <h:form id="buscatransporte">

                <div align="center">
                    <p:outputPanel id="outinter5">
                        <b:dataTable customLangUrl="#{resource['pt-br.json']}"
                                     value="#{PacienteController.listaTransporte}"
                                     var="busca" id="tabletransporte"
                                     display="Nenhuma Forma de Transporte">

                            <h:column>
                                <f:facet name="header">
                                    Transporte
                                </f:facet>
                                <p:outputLabel value="#{busca.descformatransporte}"/>
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    Adicionar
                                </f:facet>
                                <p:commandButton oncomplete="PF('dlgbuscacomochegou').hide();"
                                                 icon="ui-icon-check" id="confirmar"
                                                 update=":frmPrincipal:tbv:escolacomplete5">
                                    <f:setPropertyActionListener value="#{busca}"
                                                                 target="#{PacienteController.transporteSuggestion}"/>
                                    <p:tooltip for="confirmar" value="Selecionar Transporte"></p:tooltip>
                                </p:commandButton>
                            </h:column>

                        </b:dataTable>
                    </p:outputPanel>
                </div>
            </h:form>
        </p:dialog>


        <p:dialog style="font-size: 12px;" widgetVar="dlgbuscaatendimento"
                  width="550px" height="200px" modal="true" resizable="false">

            <f:facet name="header">
                <h:panelGroup>
                    <h:outputText id="n400" value="Lista de Deficiências"></h:outputText>
                </h:panelGroup>
            </f:facet>
            <h:form id="buscadeficiencia">

                <div align="center">
                    <p:outputPanel id="outinter6">
                        <p:dataTable value="#{MBUsuarioCadastro.buscapessoa}" var="busca"
                                     paginator="true" paginatorPosition="bottom" id="tabledeficiencia"
                                     emptyMessage="Nenhum Interessado" sortMode="single"
                                     scrollRows="3" scrollHeight="150" class="fonteForm"
                                     widgetVar="800">

                            <p:column id="n81" style="width:380px">
                                <f:facet name="header">
                                    <h:outputText id="n82" value="Nome Deficiência"
                                                  class="fonteForm"/>
                                </f:facet>
                                <h:outputText id="n83" class="fonteForm" value="#{busca.nome}"/>
                            </p:column>
                            <p:column id="n84" style=" width:100px;text-align:center;">
                                <f:facet name="header">
                                    <h:outputText id="n85" value="Codigo" class="fonteForm"/>
                                </f:facet>
                                <h:outputText id="n86" class="fonteForm" value="#{busca.cpf}"/>
                            </p:column>

                            <p:column id="n87" style="width:50px">
                                <f:facet name="header">
                                    <h:outputText id="n88" value="Ação" class="fonteForm"/>
                                </f:facet>

                                <p:commandButton oncomplete="PF('dlgbuscaatendimento').hide()"
                                                 icon="ui-icon-check" id="confirmar">

                                    <f:setPropertyActionListener value="#{busca.id_pessoa}"
                                                                 target="#{MBUsuarioCadastro.usuario.idpessoa}"/>
                                    <f:setPropertyActionListener value="#{busca.nome}"
                                                                 target="#{MBUsuarioCadastro.usuario.nome}"/>
                                    <f:setPropertyActionListener value="#{busca.cpf}"
                                                                 target="#{MBUsuarioCadastro.usuario.cpf}"/>
                                    <p:tooltip for="confirmar" value="Selecionar Deficiência"></p:tooltip>
                                </p:commandButton>
                            </p:column>

                        </p:dataTable>
                    </p:outputPanel>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog style="font-size: 12px;" widgetVar="dlgTelefone" header="Adicionar telefones"
                  width="800px" height="200px" modal="true" resizable="false">

            <h:form id="formTelefonesPaciente">
                <p:outputPanel id="outTelefonePaciente">

                <b:row>

                    <b:column span="2">
                        <h:outputLabel value="DDD"
                                       style="margin-top:10px"/>
                    </b:column>

                    <b:column span="3">
                        <b:inputText  mask="(99)" class="form-control" id="inputDdd" required="true" requiredMessage=" DDD: Campo obrigatório!"
                                     value="#{PacienteController.telefone.ddd}"/>
                    </b:column>

                    <b:column span="2">
                        <h:outputLabel value="Telefone"
                                       style="margin-top:10px"/>
                    </b:column>

                    <b:column span="3">
                        <b:inputText class="form-control" id="inputTelefone" required="true" requiredMessage=" Telefone: Campo obrigatório!"
                                     value="#{PacienteController.telefone.telefone}"/>
                    </b:column>

                    <b:column span="2">
                        <p:selectBooleanCheckbox label="Whatsapp" itemLabel="Whatsapp" id="inputWhatsapp"
                                                 style="margin-top: 8px;margin-left: 7px"
                                                 value="#{PacienteController.telefone.whatsapp}">
                        </p:selectBooleanCheckbox>
                    </b:column>

                </b:row>

                <br></br>

                <b:row>

                    <b:column span="2">
                        <h:outputLabel value="Responsável"
                                       style="margin-top:10px"/>
                    </b:column>

                    <b:column span="3">
                        <b:inputText class="form-control" id="inputResponsavel" required="true" requiredMessage=" Responsável: Campo obrigatório!"
                                     value="#{PacienteController.telefone.responsavel}"/>
                    </b:column>

                    <b:column span="2">
                        <h:outputLabel value="Parentesco"
                                       style="margin-top:10px"/>
                    </b:column>

                    <b:column span="3">
                        <b:selectOneMenu id="inputParentesco" required="true" requiredMessage=" Parentesco: Campo obrigatório!"
                                         value="#{PacienteController.telefone.parentesco.codParentesco}">
                            <f:selectItem itemLabel="Selecione" itemValue=""/>
                            <f:selectItems value="#{ParentescoController.listarParentescos()}"
                                           var="sis" itemLabel="#{sis.descParentesco}"
                                           itemValue="#{sis.codParentesco}"/>
                        </b:selectOneMenu>
                    </b:column>

                    <b:column span="2">
                        <p:commandButton style="margin-top: 8px" value="Adicionar"
                                         action="#{PacienteController.addListaTelefone()}"
                                         icon="ui-icon-plus" update=":frmPrincipal:tbv:outTabelaTelefones, outTelefonePaciente">
                        </p:commandButton>
                    </b:column>

                </b:row>

                </p:outputPanel>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>

</html>