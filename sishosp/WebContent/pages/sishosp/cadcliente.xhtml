<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"

      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:stella="http://stella.caelum.com.br/faces2"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="../../template/templategeral.xhtml">
        <ui:define name="body">
            <h:form id="frmmensagem">

                <h3 style="margin-left: 15px;">Gerenciamento de Cliente</h3>
                <hr />


                <p:toolbar>

                    <p:toolbarGroup>


                        <h:panelGrid columns="7" style="font-size:12px !important;">
                        <p:outputPanel autoUpdate="true">
                        <p:outputLabel value="Pesquisa: "/>
						<p:inputText value="#{clienteController.descBusca}" id="campoBusca"/>
						<p:commandButton value="Buscar" actionListener="#{clienteController.limpaListaClientes()}"
						icon="ui-icon-search"
						action="#{clienteController.buscarPorDescricao()}" update=":frmmensagem:tabela"/>
						<p:commandButton value="Limpar Busca" actionListener="#{clienteController.limparDadosBusca()}"
						style="margin-left:20px"
						 
						update=":frmmensagem:tabela"/>
						<br/>

                            <p:commandButton id="btninc" value="Novo"
                                             action="#{clienteController.limpaobj()}" update=":frminc:pnlinc"
                                             oncomplete="PF('dlginc').show()" icon="ui-icon-plus" disabled="#{MBUsuarios.verificarPermComp('FC-67', MBUsuarios.sistemaLogado.id) == false}">
                                <f:setPropertyActionListener value="I"
                                                             target="#{clienteController.tipo}" />
                                <p:tooltip for="btninc" value="Incluir"></p:tooltip>
                            </p:commandButton>

                            <p:commandButton id="btnalt" value="Alterar"
                                             style="margin-left:10px" update=":frminc:pnlinc :grwgeral"
                                             action="#{clienteController.alteraCliente()}"
                                             icon="ui-icon-wrench" disabled="#{MBUsuarios.verificarPermComp('FC-68', MBUsuarios.sistemaLogado.id) == false}">
                                <f:setPropertyActionListener value="A"
                                                             target="#{clienteController.tipo}" />
                                <p:tooltip for="btnalt" value="Alterar"></p:tooltip>
                            </p:commandButton>


                            <p:commandButton icon="ui-icon-closethick" value="Excluir"
                                             style="margin-left:10px" id="btnexc"
                                             action="#{clienteController.acaoExcluir()}" update=":grwgeral" disabled="#{MBUsuarios.verificarPermComp('FC-69', MBUsuarios.sistemaLogado.id) == false}">
                                <p:tooltip for="btnexc" value="Excluir"></p:tooltip>
                            </p:commandButton>

						</p:outputPanel>
                        </h:panelGrid>

                    </p:toolbarGroup>
                    <p:toolbarGroup align="right">













                    </p:toolbarGroup>

                </p:toolbar>




                <p:dataTable emptyMessage="Sem Dados" id="tabela"
                             style="margin-top:20px;" value="#{clienteController.listarClientes}"
                             var="m" paginator="true" paginatorPosition="bottom" rows="12"
                             selectionMode="single" selection="#{clienteController.cli}"
                             rowKey="#{m.codcliente}">

                    <p:ajax event="rowSelect"
                            listener="#{clienteController.onRowSelect}" update=":grwgeral" />

                    <p:column headerText="Cód." style="font-weight:bold;width:5%;">
                        <h:outputText value="#{m.codcliente}" />
                    </p:column>

                    <p:column headerText="Nome" style="font-weight:bold;">
                        <h:outputText value="#{m.nome}" />
                    </p:column>
                    <p:column headerText="CPF/CNPJ" style="font-weight:bold;">
                        <h:outputText value="#{m.cpfcnpj}" />
                    </p:column>
                    <p:column headerText="RG" style="font-weight:bold;">
                        <h:outputText value="#{m.rgconjuge}" />
                    </p:column>





                </p:dataTable>





            </h:form>

            <p:dialog id="mp" widgetVar="dlgcid" modal="true" resizable="false"
                      height="370" width="750">
                <f:facet name="header">
                    <h:outputText value="Lista de Cidades" />
                </f:facet>
                <h:form id="frmcid">


                    <p:panelGrid columns="5" styleClass="semBorda">
                        <h:outputText style="font-size: 14px;" value="Descrição " />
                        <p:inputText style="width: 250px; font-size: 14px;" size="30"
                                     id="searchnome" value="#{cidadeController.cidade.descricao}" />

                        <p:commandButton style="font-size: 14px" icon="ui-icon-search"
                                         action="#{cidadeController.acaoBusca()}" update="outcidades">

                        </p:commandButton>
                    </p:panelGrid>
                    <p:outputPanel id="outcidades">

                        <p:dataTable emptyMessage="Sem Dados" style="font-size: 12px; "
                                     paginatorPosition="bottom"
                                     value="#{cidadeController.listacidades}" var="cidade"
                                     id="tablecid">
                            <p:column width="40">
                                <f:facet name="header">
                                    <h:outputText style="font-size: 14px;" value="Código" />
                                </f:facet>
                                <h:outputText styleClass="fonteForm" value="#{cidade.codcidade}" />
                            </p:column>
                            <p:column width="200">
                                <f:facet name="header">
                                    <h:outputText style="font-size: 14px;" value="Descrição" />
                                </f:facet>
                                <h:outputText styleClass="fonteForm" value="#{cidade.descricao}" />
                            </p:column>
                            <p:column width="80" style="text-align:center;">
                                <f:facet name="header">
                                    <h:outputText style="font-size: 14px;" value="Estado" />
                                </f:facet>
                                <h:outputText styleClass="fonteForm"
                                              value="#{cidade.estado.descricao}" />
                            </p:column>


                            <p:column width="90" style="margin: 0 -10 0 -10 !important;">
                                <center>
                                    <f:facet name="header">
                                        <h:outputText style="font-size: 14px; text-align: center; "
                                                      value="Ação" />
                                    </f:facet>
                                </center>
                                <center>
                                    <p:commandButton style="font-size: 12px;" process="@this"
                                                     update=":frminc:pnlinc" id="confirmar" value="Confirmar"
                                                     oncomplete="PF('dlgcid').hide();" icon="ui-icon-check">
                                        <f:setPropertyActionListener value="#{cidade}"
                                            target="#{clienteController.cli.cidade}" />
                                        
                                        <f:setPropertyActionListener value="#{cidade}"
                                            target="#{clienteController.cidadeRend}" />
                                        
                                        <f:setPropertyActionListener value="#{cidade}"
                                            target="#{bairroController.cidadeBusca}" />
                                        
                                        <f:setPropertyActionListener value="#{null}"
                                            target="#{clienteController.cli.bairro}" />
                                    </p:commandButton>
                                </center>

                            </p:column>

                        </p:dataTable>


                    </p:outputPanel>



                    <br />

                </h:form>
            </p:dialog>

            <p:dialog widgetVar="dlg" modal="true" resizable="false" height="370"
                      width="750">
                <f:facet name="header">
                    <h:outputText value="Lista de Bairros" />
                </f:facet>
                <h:form id="frminter">


                    <p:panelGrid columns="5" styleClass="semBorda">
                        <h:outputText style="font-size: 14px;" value="Descrição " />
                        <p:inputText style="width: 250px; font-size: 14px;" size="30"
                                     id="searchnome" value="#{bairroController.bairro.descricao}" />

                        <p:commandButton style="font-size: 14px" icon="ui-icon-search"
                                         action="#{bairroController.acaoBusca()}" update="outbairros">

                        </p:commandButton>
                    </p:panelGrid>
                    <p:outputPanel id="outbairros">

                        <p:dataTable emptyMessage="Sem Dados" style="font-size: 12px; "
                                     paginatorPosition="bottom"
                                     value="#{bairroController.listabairros}" var="bairro" id="table">
                            <p:column width="40">
                                <f:facet name="header">
                                    <h:outputText style="font-size: 14px;" value="Código" />
                                </f:facet>
                                <h:outputText styleClass="fonteForm" value="#{bairro.codbairro}" />
                            </p:column>
                            <p:column width="200">
                                <f:facet name="header">
                                    <h:outputText style="font-size: 14px;" value="Descrição" />
                                </f:facet>
                                <h:outputText styleClass="fonteForm" value="#{bairro.descricao}" />
                            </p:column>
                            <p:column width="80" style="text-align:center;">
                                <f:facet name="header">
                                    <h:outputText style="font-size: 14px;" value="Cidade" />
                                </f:facet>
                                <h:outputText styleClass="fonteForm"
                                              value="#{bairro.cidade.descricao}" />
                            </p:column>


                            <p:column width="90" style="margin: 0 -10 0 -10 !important;">
                                <center>
                                    <f:facet name="header">
                                        <h:outputText style="font-size: 14px; text-align: center; "
                                                      value="Ação" />
                                    </f:facet>
                                </center>
                                <center>
                                    <p:commandButton style="font-size: 12px;" process="@this"
                                                     update=":frminc:pnlinc" id="confirmar" value="Confirmar"
                                                     oncomplete="PF('dlg').hide();" icon="ui-icon-check">
                                        <f:setPropertyActionListener value="#{bairro}"
                                                                     target="#{clienteController.cli.bairro}" />
                                    </p:commandButton>
                                </center>

                            </p:column>

                        </p:dataTable>


                    </p:outputPanel>



                    <br />

                </h:form>
            </p:dialog>




            <!--  Dialog Inclusao dados Cliente -->

            <p:dialog widgetVar="dlginc" header="Dados do Cliente" height="560"
                      width="960" modal="true" resizable="false">

                <h:form id="frminc">
                	<p:growl id="growlinc" showDetail="false"/>
                    <p:panel id="pnlinc" style="border:none; ">
                        <p:outputPanel autoUpdate="false">
                            <p:tabView activeIndex="0" tabindex="0" widgetVar="tabvi">
                                <p:tab title="Dados Gerais">
                                    <h:panelGrid columns="2">

                                    </h:panelGrid>
                                    <p:panelGrid styleClass="semBorda">

                                        <p:row>
                                            <p:column>
                                                <p:outputLabel for="console" value="Tipo de Pessoa" />

                                            </p:column>
                                            <p:column colspan="1">
                                                <p:outputPanel id="idnome">
                                                    <h:outputText value="Nome"
                                                                  rendered="#{clienteController.cli.tipopessoa=='F'}" />
                                                    <h:outputText value="Razão Social"
                                                                  rendered="#{clienteController.cli.tipopessoa=='J'}" />
                                                </p:outputPanel>


                                            </p:column>

                                            <p:column colspan="1">
                                                <h:outputText value="Fantasia" />
                                            </p:column>



                                        </p:row>



                                        <p:row>
                                            <p:column>
                                                <p:selectOneRadio id="console" style="margin-top:0px"
                                                                  value="#{clienteController.cli.tipopessoa}" required="true"
                                                                  requiredMessage="Informe o tipo de Pessoa">
                                                    <f:selectItem itemLabel="Física" itemValue="F" />
                                                    <f:selectItem itemLabel="Jurídica" itemValue="J" />
                                                    <p:ajax update="idnome outlblcpf outedtcpf" event="click" />

                                                </p:selectOneRadio>
                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.nome}"
                                                             required="true" requiredMessage="Informe o nome" size="50" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.fantasia}"
                                                             size="50" />
                                            </p:column>

                                        </p:row>

                                    </p:panelGrid>

                                    <p:panelGrid styleClass="semBorda">

                                        <p:row>
                                            <p:column colspan="1">
                                                <h:outputText value="Data de Nascimento" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="Sexo" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="Profissão" />
                                            </p:column>

                                            <p:column colspan="1">
                                                <p:outputPanel id="outlblcpf">
                                                    <h:outputText value="CPF"

                                                                  rendered="#{clienteController.cli.tipopessoa=='F'}" />
                                                    <h:outputText value="CNPJ"
                                                                  rendered="#{clienteController.cli.tipopessoa=='J'}" />
                                                </p:outputPanel>
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="RG" />
                                            </p:column>

                                            <p:column colspan="1">
                                                <h:outputText value="Órgão Emissor" />
                                            </p:column>

                                        </p:row>
                                        <p:row>
                                            <p:column colspan="1">

                                                <p:calendar value="#{clienteController.cli.dtnasc}"
                                                            mask="true" showOn="button" pattern="dd/MM/yyyy" size="8">

                                                </p:calendar>

                                            </p:column>

                                            <p:column colspan="1">
                                                <p:selectOneMenu value="#{clienteController.cli.sexo}"
                                                                 required="true" requiredMessage="Informe o Sexo">
                                                    <f:selectItem itemLabel="Selecione" itemValue="" />
                                                    <f:selectItem itemLabel="Feminino" itemValue="F" />
                                                    <f:selectItem itemLabel="Masculino" itemValue="M" />
                                                </p:selectOneMenu>

                                            </p:column>

                                            <p:column colspan="1">

                                                <p:selectOneMenu value="#{clienteController.idProfissao}"
                                                                 style="width:120px;">

                                                    <f:selectItem itemLabel="Selecione" itemValue="" />

                                                    <f:selectItems itemValue="#{x.idProfissao}"
                                                                   itemLabel="#{x.descricao}"
                                                                   value="#{clienteController.lstAllProfissao()}" var="x"></f:selectItems>

                                                </p:selectOneMenu>

                                            </p:column>

                                            <p:column colspan="1">
                                                <p:outputPanel id="outedtcpf">
                                                    <p:inputMask value="#{clienteController.cli.cpfcnpj}"
                                                                 mask="999.999.999-99"
                                                                 required="#{MBUsuarios.user.parametro.obrigacpf==true}" requiredMessage="Informe o CPF"
                                                                 rendered="#{clienteController.cli.tipopessoa=='F'}">

                                                        <stella:validateCPF formatted="true" />

                                                    </p:inputMask>

                                                    <p:inputMask value="#{clienteController.cli.cpfcnpj}"
                                                                 mask="99.999.999/9999-99"
                                                                 required="#{MBUsuarios.user.parametro.obrigacpf==true}" requiredMessage="Informe o CNPJ"
                                                                 rendered="#{clienteController.cli.tipopessoa=='J'}">

                                                        <stella:validateCNPJ formatted="true" />

                                                    </p:inputMask>
                                                </p:outputPanel>

                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.identidade}"
                                                             size="20" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.orgaoident}"
                                                             size="12" />
                                            </p:column>

                                        </p:row>
                                    </p:panelGrid>



                                    <p:panelGrid styleClass="semBorda">

                                        <p:row>



                                            <p:column colspan="1">
                                                <h:outputText value="DDD" />
                                            </p:column>
                                            <p:column >
                                                <h:outputText value="Telefone 1" />
                                            </p:column>

                                            <p:column >
                                                <h:outputText value="Tipo" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="DDD" />
                                            </p:column>

                                            <p:column colspan="1">
                                                <h:outputText value="Telefone 2" />
                                            </p:column>
                                            <p:column >
                                                <h:outputText value="Tipo" />
                                            </p:column>
                                        </p:row>
                                        <p:row>


                                            <p:column colspan="1">
                                                <p:inputMask mask="99" value="#{clienteController.cli.ddd1}"  style="width:30px"></p:inputMask>

                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.telefone1}" required="false" requiredMessage="Informe ao menos o Telefone 1"
                                                             size="15" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <p:selectOneRadio  style="margin-top:0px;width:100px"
                                                                   value="#{clienteController.cli.tipotelefone1}" 
                                                                   >
                                                    <f:selectItem itemLabel="Celular" itemValue="C" />
                                                    <f:selectItem itemLabel="Fixo" itemValue="F" />


                                                </p:selectOneRadio>


                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputMask mask="99" value="#{clienteController.cli.ddd2}"  style="width:30px"></p:inputMask>

                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.telefone2}"
                                                             size="15" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <p:selectOneRadio  style="margin-top:0px;width:100px"
                                                                   value="#{clienteController.cli.tipotelefone2}" 
                                                                   >
                                                    <f:selectItem itemLabel="Celular" itemValue="C" />
                                                    <f:selectItem itemLabel="Fixo" itemValue="F" />


                                                </p:selectOneRadio>


                                            </p:column>

                                        </p:row>
                                    </p:panelGrid>

                                    <!--  Cpf e Insc. Estadual Endereco-->
                                    <p:panelGrid styleClass="semBorda">

                                        <p:row>



                                            <p:column colspan="1">
                                                <h:outputText value="Endereço" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="Complemento" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="Número" />
                                            </p:column>
                                        </p:row>
                                        <p:row>


                                            <p:column colspan="1">
                                           
                                                <p:inputText value="#{clienteController.cli.end.logradouro}" id="endereco"
                                                             required="false" requiredMessage="Informe o Endereço"
                                                             size="60" />
                                                             
                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.end.complemento}" id="complemento"
                                                             size="50" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.end.numero}" size="6" />
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>


                                    <!--  endereco e complemento e cep -->
                                    <p:panelGrid styleClass="semBorda">
                                        <p:row>


                                            <p:column colspan="1">
                                                <h:outputText value="Insc. Estadual" />
                                            </p:column>


                                            <p:column colspan="1">
                                                <h:outputText value="Ponto de Referência" />
                                            </p:column>


                                            <p:column colspan="1">
                                                <h:outputText value="CEP" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="Cidade" />
                                            </p:column>


                                        </p:row>
                                        <p:row>

                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.inscest}"
                                                             size="10" />
                                            </p:column>

	
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.pontoref}"
                                                             size="50" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputMask mask="99999-999" size="12" value="#{clienteController.cli.end.cep}" id="campoCpf" />
                                                <p:commandButton action="#{clienteController.buscarCep}" icon="ui-icon-search" update="endereco,localidade,bairro,uf,complemento" process="@this, campoCpf"/>

                                            </p:column>
                                            
                                            <p:column colspan="1">

                                                <div
                                                    style="min-width: 200px; min-height: 20px; border-top: 0px white; border-right: 0px white; border-bottom: 0px white; border-left: 0px white">
                                                   
                                                    <p:inputText
                                                        value="#{clienteController.cli.end.localidade}" id="localidade"/>


                                                </div>
                                            </p:column>

                                        </p:row>

                                    </p:panelGrid>

                                    <!--  ponto ref e cep -->
                                    <p:panelGrid styleClass="semBorda">
                                        <p:row>
                                            <p:column colspan="1">
                                                <h:outputText value="UF" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="Bairro" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="Nacionalidade" />
                                            </p:column>




                                        </p:row>
                                        <p:row>
                                            
                                            <p:column colspan="1">

                                                <div
                                                    style="min-width: 10px; min-height: 20px; border-top: 0px solid white; border-right: 0px solid white; border-bottom: 0px solid white; border-left: 0px solid white">

                                                    <p:selectOneMenu
                                                        value="#{clienteController.cli.end.uf}" id="uf">
                                                        <f:selectItem itemLabel="Selecione"/>
                                                    	<f:selectItems value="#{clienteController.listaEstados}"/>    
                                                    </p:selectOneMenu>


                                                </div>
                                            </p:column>
                                            
                                            <p:column colspan="1">

                                                <div
                                                    style="min-height: 20px; border-top: 0px white; border-right: 0px white; border-bottom: 0px white; border-left: 0px white">
                                                   
                                                    <p:inputText
                                                        value="#{clienteController.cli.end.bairro}" id="bairro"/>
                                                </div>
                                            </p:column>

                                            

                                            

                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.nacionalidaade}"
                                                             size="30" />
                                            </p:column>

                                        </p:row>
                                        <p:row>
                                            <p:column colspan="1">
                                                <h:outputText value="Estado Civil" />
                                            </p:column>
                                            <p:column colspan="1">
                                                <h:outputText value="Site" />
                                            </p:column>

                                            <p:column colspan="1">
                                                <h:outputText value="Email" />
                                            </p:column>
                                        </p:row>

                                        <p:row>
                                            <p:column colspan="1">
                                                <p:selectOneMenu filter="true" filterMatchMode="startsWith"
                                                                 style="width:150px;"
                                                                 value="#{clienteController.cli.estciv.codestadocivil}">
                                                    <f:selectItem itemLabel="SELECIONE" itemValue="" />
                                                    <f:selectItems value="#{clienteController.listEstCiv}"
                                                                   var="td" itemLabel="#{td.descricao}"
                                                                   itemValue="#{td.codestadocivil}" />
                                                </p:selectOneMenu>
                                            </p:column>
                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.site}" size="22" />
                                            </p:column>

                                            <p:column colspan="1">
                                                <p:inputText value="#{clienteController.cli.email}" size="30" />
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>






                                    <br />

                                </p:tab>
                                <p:tab title="Cônjuge">
                                    <p:panelGrid styleClass="semBorda">

                                        <p:row>
                                            <p:column style="width:300px">
                                                <h:outputText value="Nome" />
                                            </p:column>

                                            <p:column style="width:150px">
                                                <h:outputText value="Data de Nascimento" />
                                            </p:column>
                                            <p:column style="width:200px">
                                                <h:outputText value="Sexo" />
                                            </p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column>

                                                <p:inputText value="#{clienteController.cli.nomeconjuge}"
                                                             size="60">

                                                </p:inputText>






                                            </p:column>
                                            <p:column style="width:20px">
                                                <p:calendar value="#{clienteController.cli.dtnascconjuge}"
                                                            showOn="button" pattern="dd/MM/yyyy" mask="true" size="8">

                                                </p:calendar>
                                            </p:column>
                                            <p:column style="width:200px">
                                                <p:selectOneMenu value="#{clienteController.cli.sexoconjuge}"
                                                                 style="width:100px">
                                                    <f:selectItem itemLabel="Selecione" itemValue="" />
                                                    <f:selectItem itemLabel="Feminino" itemValue="F" />
                                                    <f:selectItem itemLabel="Masculino" itemValue="M" />

                                                </p:selectOneMenu>

                                            </p:column>

                                        </p:row>

                                        <p:row>
                                            <p:column>

                                                <h:outputText value="CPF" />


                                            </p:column>
                                            <p:column colspan="2">
                                                <h:outputText value="RG" />
                                            </p:column>

                                        </p:row>
                                        <p:row>
                                            <p:column>
                                                <p:inputMask mask="999.999.999-99"
                                                             value="#{clienteController.cli.cpfconjuge}" />
                                            </p:column>
                                            <p:column colspan="2">

                                                <p:inputText value="#{clienteController.cli.rgconjuge}" />

                                            </p:column>

                                        </p:row>
                                    </p:panelGrid>


                                </p:tab>

                                <p:tab title="Relacionamento">
                                    <p:panelGrid styleClass="semBorda">

                                        <p:row>
                                            <p:column style="width:30px">
                                                <h:outputText value="Percentual de Desconto" />
                                            </p:column>

                                            <p:column style="width:30px">
                                                <h:outputText value="Score" />
                                            </p:column>

                                        </p:row>
                                        <p:row>
                                            <p:column>

                                                <p:inputText value="#{clienteController.cli.percdesconto}"
                                                             size="20">
                                                    <f:convertNumber type="number" />
                                                </p:inputText>


                                            </p:column>
                                            <p:column style="width:8px">
                                                <div
                                                    style="min-width: 60px; min-height: 20px; border-top: 1px solid black; border-right: 1px solid black; border-bottom: 1px solid black; border-left: 1px solid black">

                                                    <h:outputText value="#{clienteController.cli.score}" />
                                                </div>

                                            </p:column>

                                        </p:row>

                                        <p:row>
                                            <p:column>

                                                <h:outputText value="Categoria :" />

                                            </p:column>
                                            <p:column colspan="1">

                                                <p:selectOneMenu value="#{clienteController.idCategoria}"
                                                                 style="width:120px;">

                                                    <f:selectItem itemLabel="Selecione" itemValue="" />

                                                    <f:selectItems itemValue="#{x.codcategoria}"
                                                                   itemLabel="#{x.descricao}"
                                                                   value="#{clienteController.lstAllCategoria()}" var="x"></f:selectItems>

                                                </p:selectOneMenu>

                                            </p:column>
                                        </p:row>



                                    </p:panelGrid>


                                </p:tab>


                            </p:tabView>
                        </p:outputPanel>
                        <center>

                            <p:commandButton value="Gravar"
                                             action="#{clienteController.gravaCliente()}"
                                             update=":grwgeral :frmmensagem:tabela"
                                             style="font-size: 14px;margin-top:15px;" icon="ui-icon-check" />

                            <p:commandButton value="Cancelar"
                                             style="font-size: 14px;margin-left:20px"
                                             icon="ui-icon-closethick" onclick="PF('dlginc').hide()" />

                        </center>

                    </p:panel>

                </h:form>

            </p:dialog>

            <p:dialog widgetVar="dialogAtencao" modal="true" header="Atenção"
                      resizable="false">


                <h:panelGrid columns="1">


                    <div class="alert alert-warning" role="alert">Deseja excluir
                        este Cliente?</div>

                </h:panelGrid>



                <center>

                    <p:commandButton value="Sim" update=":frmmensagem:tabela"
                                     actionListener="#{clienteController.excluirCliente()}"
                                     icon="ui-icon-check" style="font-size:14px;">
                    </p:commandButton>

                    <p:commandButton value="Não" onclick="PF('dialogAtencao').hide();"
                                     icon="ui-icon-closethick" style="font-size:14px;margin-left:5px;"></p:commandButton>

                </center>



            </p:dialog>










        </ui:define>

    </ui:composition>

</html>
